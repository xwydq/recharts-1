<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>recharts: An R Interface to Baidu ECharts 2</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>
<link href="libs/highlightjs-1.1/default.css" rel="stylesheet" />
<script src="libs/highlightjs-1.1/highlight.js"></script>
<script src="libs/htmlwidgets-0.8/htmlwidgets.js"></script>
<script src="libs/echarts-2.2.7/echarts-all.js"></script>
<script src="libs/charts-ext-2.2.7/main.js"></script>
<script src="libs/charts-ext-2.2.7/BMap.js"></script>
<script src="libs/echarts-binding-0.2/echarts.js"></script>
<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 70px;
}
p code {
  white-space: inherit;
}
.html-widget-static-bound {
  margin: auto;
}
.alert>p {
  margin-bottom: 10.5px;
}
</style>
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="./">recharts</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="./">Home</a></li>
        <li><a href="index_cn.html">首页</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://github.com/madlogos/recharts" title="View Source on Github"><i class="fa fa-github fa-lg"></i></a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</nav><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">recharts: An R Interface to Baidu ECharts 2</h1>

</div>


<p>Note:</strong> This package was forked from <a href="https://github.com/yihui/recharts">Yihui Xie</a> and is based on the last release of Baidu Echarts2 (v2.2.7). The documentation here always reflects the latest development version of <strong>recharts</strong> on <a href="https://github.com/madlogos/recharts">Github</a>. The package <a href="http://github.com/madlogos/recharts2">recharts2</a> that is based on Echarts3 is still under development.</p>
<p>To install the package:</p>
<pre class="r"><code>if (!require(devtools)) library(devtools)
install_github(&quot;madlogos/recharts&quot;)</code></pre>
<div id="knowledge-map-of-the-guidance" class="section level1">
<h1><span class="header-section-number">1</span> Knowledge Map of the Guidance</h1>
<ol style="list-style-type: decimal">
<li>Base Plots
<ol style="list-style-type: decimal">
<li>Mono-coordinate System
<ol style="list-style-type: decimal">
<li>Cartesian Coordinate System
<ol style="list-style-type: decimal">
<li><a href="Basic_Plots_01_Scatterplot.html">Scatter/Bubble Plot</a></li>
<li><a href="Basic_Plots_02_Bar.html">Bar/Column Chart</a></li>
<li><a href="Basic_Plots_03_Line.html">Line/Area Chart</a></li>
<li><a href="Basic_Plots_04_K.html">Candlestick/K Chart</a></li>
<li><a href="Basic_Plots_05_eventRiver.html">Event River Chart</a></li>
</ol></li>
<li>Others
<ol style="list-style-type: decimal">
<li><a href="Basic_Plots_11_Force.html">Force Chart</a></li>
<li><a href="Basic_Plots_12_Chord.html">Chord Chart</a></li>
<li><a href="Basic_Plots_13_WordCloud.html">Word Cloud</a></li>
<li><a href="Basic_Plots_14_Venn.html">Venn Chart</a></li>
<li><a href="Basic_Plots_15_Heatmap.html">Heatmap</a></li>
</ol></li>
</ol></li>
<li>Multi-coordinate System
<ol style="list-style-type: decimal">
<li>Polar Coordinate System
<ol style="list-style-type: decimal">
<li><a href="Basic_Plots_21_Pie.html">Pie/Ring/Rose Chart</a></li>
<li><a href="Basic_Plots_22_Funnel.html">Funnel/Pyramid Chart</a></li>
<li><a href="Basic_Plots_23_Radar.html">Radar Chart</a></li>
<li><a href="Basic_Plots_24_Gauge.html">Gauge Chart</a></li>
</ol></li>
<li>Others
<ol style="list-style-type: decimal">
<li><a href="Basic_Plots_31_Map.html">Map</a></li>
<li><a href="Basic_Plots_32_Tree.html">Tree Chart</a></li>
<li><a href="Basic_Plots_33_Treemap.html">Treemap</a></li>
</ol></li>
</ol></li>
</ol></li>
<li><a href="Mixed_Plots.html">Mixed Plots</a></li>
<li>Axis/Widget Configuration
<ol style="list-style-type: decimal">
<li>Tune Series
<ol style="list-style-type: decimal">
<li><a href="setSeries.html"><code>setSeries</code></a></li>
</ol></li>
<li>Axis/Grid
<ol style="list-style-type: decimal">
<li><a href="Widget_01_Axis.html"><code>setAxis</code></a></li>
<li><a href="Widget_02_Polar.html"><code>setPolar</code></a></li>
<li><a href="Widget_03_Grid.html"><code>setGrid</code></a></li>
</ol></li>
<li>Graph Elements
<ol style="list-style-type: decimal">
<li><a href="Widget_11_markLine.html"><code>addMarkLine</code></a></li>
<li><a href="Widget_12_markPoint.html"><code>addMarkPoint</code></a></li>
</ol></li>
<li>Widgets
<ol style="list-style-type: decimal">
<li><a href="Widget_21_Title.html"><code>setTitle</code></a></li>
<li><a href="Widget_22_Legend.html"><code>setLegend</code></a></li>
<li><a href="Widget_23_Timeline.html"><code>setTimeline</code></a></li>
<li><a href="Widget_24_Toolbox.html"><code>setToolbox</code></a></li>
<li><a href="Widget_25_DataRange.html"><code>setDataRange</code></a></li>
<li><a href="Widget_26_DataZoom.html"><code>setDataZoom</code></a></li>
<li><a href="Widget_27_RoamController.html"><code>setRoam</code></a></li>
</ol></li>
<li>Feature Lists
<ol style="list-style-type: decimal">
<li><a href="aesStyle.html"><code>aesStyle</code></a></li>
</ol></li>
</ol></li>
<li>Aesthetic Configuration
<ol style="list-style-type: decimal">
<li><a href="Widget_31_Tooltip.html"><code>setTooltip</code></a></li>
<li><a href="Widget_32_SymbolList.html"><code>setSymbols</code></a></li>
<li><a href="Widget_33_Theme.html"><code>setTheme</code></a></li>
</ol></li>
<li><a href="Cust_Plots.html">Customization</a></li>
</ol>
</div>
<div id="hello-world" class="section level1">
<h1><span class="header-section-number">2</span> Hello World</h1>
<p>The R package <strong>recharts</strong> provides an interface to the JavaScript library <a href="http://echarts.baidu.com/echarts2">ECharts2</a> for data visualization. The goal of this package is to make it easy to create charts with only a few lines of R code. R users should be able to get started with ECharts without having to know HTML or JavaScript, although advanced users will benefit from their knowledge of JavaScript. Here is an example of a scatterplot that shows the basic syntax of this package:</p>
<pre class="r"><code>library(recharts)
echartr(iris, Sepal.Length, Sepal.Width, series = Species)</code></pre>
<div id="htmlwidget-f9fa6030b6b358c5c658" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-f9fa6030b6b358c5c658">{"x":{"series":[{"name":"setosa","type":"scatter","data":[[5.1,3.5],[4.9,3],[4.7,3.2],[4.6,3.1],[5,3.6],[5.4,3.9],[4.6,3.4],[5,3.4],[4.4,2.9],[4.9,3.1],[5.4,3.7],[4.8,3.4],[4.8,3],[4.3,3],[5.8,4],[5.7,4.4],[5.4,3.9],[5.1,3.5],[5.7,3.8],[5.1,3.8],[5.4,3.4],[5.1,3.7],[4.6,3.6],[5.1,3.3],[4.8,3.4],[5,3],[5,3.4],[5.2,3.5],[5.2,3.4],[4.7,3.2],[4.8,3.1],[5.4,3.4],[5.2,4.1],[5.5,4.2],[4.9,3.1],[5,3.2],[5.5,3.5],[4.9,3.6],[4.4,3],[5.1,3.4],[5,3.5],[4.5,2.3],[4.4,3.2],[5,3.5],[5.1,3.8],[4.8,3],[5.1,3.8],[4.6,3.2],[5.3,3.7],[5,3.3]]},{"name":"versicolor","type":"scatter","data":[[7,3.2],[6.4,3.2],[6.9,3.1],[5.5,2.3],[6.5,2.8],[5.7,2.8],[6.3,3.3],[4.9,2.4],[6.6,2.9],[5.2,2.7],[5,2],[5.9,3],[6,2.2],[6.1,2.9],[5.6,2.9],[6.7,3.1],[5.6,3],[5.8,2.7],[6.2,2.2],[5.6,2.5],[5.9,3.2],[6.1,2.8],[6.3,2.5],[6.1,2.8],[6.4,2.9],[6.6,3],[6.8,2.8],[6.7,3],[6,2.9],[5.7,2.6],[5.5,2.4],[5.5,2.4],[5.8,2.7],[6,2.7],[5.4,3],[6,3.4],[6.7,3.1],[6.3,2.3],[5.6,3],[5.5,2.5],[5.5,2.6],[6.1,3],[5.8,2.6],[5,2.3],[5.6,2.7],[5.7,3],[5.7,2.9],[6.2,2.9],[5.1,2.5],[5.7,2.8]]},{"name":"virginica","type":"scatter","data":[[6.3,3.3],[5.8,2.7],[7.1,3],[6.3,2.9],[6.5,3],[7.6,3],[4.9,2.5],[7.3,2.9],[6.7,2.5],[7.2,3.6],[6.5,3.2],[6.4,2.7],[6.8,3],[5.7,2.5],[5.8,2.8],[6.4,3.2],[6.5,3],[7.7,3.8],[7.7,2.6],[6,2.2],[6.9,3.2],[5.6,2.8],[7.7,2.8],[6.3,2.7],[6.7,3.3],[7.2,3.2],[6.2,2.8],[6.1,3],[6.4,2.8],[7.2,3],[7.4,2.8],[7.9,3.8],[6.4,2.8],[6.3,2.8],[6.1,2.6],[7.7,3],[6.3,3.4],[6.4,3.1],[6,3],[6.9,3.1],[6.7,3.1],[6.9,3.1],[5.8,2.7],[6.8,3.2],[6.7,3.3],[6.7,3],[6.3,2.5],[6.5,3],[6.2,3.4],[5.9,3]]}],"legend":{"show":true,"data":["setosa","versicolor","virginica"],"x":"left","y":"top","orient":"horizontal"},"yAxis":[{"type":"value","show":true,"position":"left","name":"Sepal.Width","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"xAxis":[{"type":"value","show":true,"position":"bottom","name":"Sepal.Length","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    var i;\n    var text = params.value[0];\n    if (params.seriesName === null || params.seriesName === \"\"){\n        if (params.value.length > 1) {\n            for (i = 1; i < params.value.length; i++){\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.name + \" : \" + text;\n        }\n    } else {\n        if (params.value.length > 1) {\n            text = params.seriesName + \" :<br/>\" + text;\n            for (i = 1; i < params.value.length; i++) {\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.seriesName + \" :<br/>\"\n            + params.name + \" : \" + text;\n        }\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"}},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
<p>The <strong>recharts</strong> package was built on top of <a href="http://htmlwidgets.org"><strong>htmlwidgets</strong></a>, which can save us a lot of time on managing JavaScript dependencies and dealing with different types of output documents such as R Markdown and Shiny. You just create a chart, and we will take care of the rest of things when the chart is renderd in R Markdown, Shiny, or the R console / RStudio.</p>
<p>The main function in this package is the <code>echartr()</code> function (an S3 generic function), and we want to make it smart enough to deal with different types of R data automatically. For example, when a data frame is passed to <code>echart()</code>, and the <code>x</code>/<code>y</code> variables are numeric, it should automatically figure out that you probably need a scatterplot, and the axes will be automatically generated. Of course, you can also override the automatic guess.</p>
</div>
<div id="quick-start" class="section level1">
<h1><span class="header-section-number">3</span> Quick Start</h1>
<p>Follow the steps below to make a plot yourself.</p>
<div id="data" class="section level2">
<h2><span class="header-section-number">3.1</span> Data</h2>
<p>Always start from data itself. Let’s use <code>mtcars</code> in the package <code>datasets</code>. You can type <code>?mtcars</code> to read the instruction.</p>
<pre class="r"><code>head(mtcars)</code></pre>
<pre><code>##                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
## Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
<p>We want to know the relationship between <code>wt</code> (weight) and <code>mpg</code> (miles per gallon), a scatterplot is a good fit. It requires x and y variables of numeric.</p>
</div>
<div id="core-plot" class="section level2">
<h2><span class="header-section-number">3.2</span> Core Plot</h2>
<p>Use <code>echartr</code> to build the basic chart.</p>
<pre class="r"><code>echartr(mtcars, wt, mpg)</code></pre>
<div id="htmlwidget-62381b9022adc1add4c0" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-62381b9022adc1add4c0">{"x":{"series":[{"type":"scatter","data":[[2.62,21],[2.875,21],[2.32,22.8],[3.215,21.4],[3.44,18.7],[3.46,18.1],[3.57,14.3],[3.19,24.4],[3.15,22.8],[3.44,19.2],[3.44,17.8],[4.07,16.4],[3.73,17.3],[3.78,15.2],[5.25,10.4],[5.424,10.4],[5.345,14.7],[2.2,32.4],[1.615,30.4],[1.835,33.9],[2.465,21.5],[3.52,15.5],[3.435,15.2],[3.84,13.3],[3.845,19.2],[1.935,27.3],[2.14,26],[1.513,30.4],[3.17,15.8],[2.77,19.7],[3.57,15],[2.78,21.4]]}],"yAxis":[{"type":"value","show":true,"position":"left","name":"mpg","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"xAxis":[{"type":"value","show":true,"position":"bottom","name":"wt","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    var i;\n    var text = params.value[0];\n    if (params.seriesName === null || params.seriesName === \"\"){\n        if (params.value.length > 1) {\n            for (i = 1; i < params.value.length; i++){\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.name + \" : \" + text;\n        }\n    } else {\n        if (params.value.length > 1) {\n            text = params.seriesName + \" :<br/>\" + text;\n            for (i = 1; i < params.value.length; i++) {\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.seriesName + \" :<br/>\"\n            + params.name + \" : \" + text;\n        }\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":[],"x":"left","y":"top","orient":"horizontal"}},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
<p>The grammar of <code>echartr</code> is</p>
<pre><code>## function (data, x = NULL, y = NULL, series = NULL, weight = NULL, 
##     facet = NULL, t = NULL, lat = NULL, lng = NULL, type = &quot;auto&quot;, 
##     subtype = NULL, elementId = NULL, ...)</code></pre>
<div id="arguments" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Arguments</h3>
<table>
<colgroup>
<col width="15%" />
<col width="84%" />
</colgroup>
<thead>
<tr class="header">
<th><strong>Arg</strong></th>
<th><strong>Interpretation</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>data</strong></p></td>
<td><p>source data in the form of data.frame</p></td>
</tr>
<tr class="even">
<td><p>x</p></td>
<td><p>Independent variable(s). One or more columns of <code>data</code>. Could be time, numeric or characters.</p>
<ul>
<li>In Cartesian coordinate system charts, <code>x</code> is linked with x-axis</li>
<li>In polar coordinate system charts, <code>x</code> var1 is linked with polar-axis, and <code>x</code> var2 is data series (linked with legends)</li>
<li>In other chart types, mono-coordinate system charts refer to Cartesian coordinat system examples, while multi-coordinates system charts refer to polar system examples.</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>y</p></td>
<td><p>dependent variable(s). One or more columns of <code>data</code>. Always numeric.</p></td>
</tr>
<tr class="even">
<td><p>series</p></td>
<td><p>series variable. A column of <code>data</code> which is treated as factors.</p></td>
</tr>
<tr class="odd">
<td><p>weight</p></td>
<td><p>weight variable used in bubble, bar/column, line/area chart, linking with the size of graph elements.</p></td>
</tr>
<tr class="even">
<td><p>facet</p></td>
<td><p>facet variable to devide the canvas into facets. Only applicable for multi-coordinate system charts (e.g., pie charts).</p></td>
</tr>
<tr class="odd">
<td><p>t</p></td>
<td><p>time variable. If <code>t</code> is assigned, a timeline widget will display.</p></td>
</tr>
<tr class="even">
<td><p>lat</p></td>
<td><p>latitude variable for map/heatmap.</p></td>
</tr>
<tr class="odd">
<td><p>lng</p></td>
<td><p>longitude variable for map/heatmap.</p></td>
</tr>
<tr class="even">
<td><p>type</p></td>
<td><p>chart type. Default ‘auto’. <code>type</code> as a vector is linked with <code>series</code>, while as a list is linked with <code>facet</code>.</p></td>
</tr>
<tr class="odd">
<td><p>subtype</p></td>
<td><p>chart subtype. Default NULL. <code>subtype</code> as a vector is also linked with <code>series</code>, while as a list is linked with <code>facet</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div id="supported-chart-types" class="section level3">
<h3><span class="header-section-number">3.2.2</span> Supported Chart Types</h3>
<p><code>echartr</code> now supports the following types (the regex patterns in ‘name’ column, case insensitive). The ‘type’ column lists chart type names supported by Echarts2.</p>
<pre class="r"><code>knitr::kable(recharts:::validChartTypes[,c(1:3,5)])</code></pre>
<table>
<thead>
<tr class="header">
<th align="right">id</th>
<th align="left">name</th>
<th align="left">type</th>
<th align="left">misc</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">^(scatter|point)$</td>
<td align="left">scatter</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">^(bubble)$</td>
<td align="left">scatter</td>
<td align="left">bubble</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">^(bar|hbar)$</td>
<td align="left">bar</td>
<td align="left">flip</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">^(vbar|column)$</td>
<td align="left">bar</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">^(histogram|hist)$</td>
<td align="left">hist</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">^(line)$</td>
<td align="left">line</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="left">^(curve)$</td>
<td align="left">line</td>
<td align="left">smooth</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="left">^(area)$</td>
<td align="left">line</td>
<td align="left">fill</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="left">^(wave)$</td>
<td align="left">line</td>
<td align="left">fill_smooth</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="left">^(map_world|world_map)$</td>
<td align="left">map</td>
<td align="left">world</td>
</tr>
<tr class="odd">
<td align="right">11</td>
<td align="left">^(map_china|china_map)$</td>
<td align="left">map</td>
<td align="left">china</td>
</tr>
<tr class="even">
<td align="right">12</td>
<td align="left">^(map_world_multi|world_map_multi)$</td>
<td align="left">map</td>
<td align="left">world_multi</td>
</tr>
<tr class="odd">
<td align="right">13</td>
<td align="left">^(map_china_multi|china_map_multi)$</td>
<td align="left">map</td>
<td align="left">china_multi</td>
</tr>
<tr class="even">
<td align="right">14</td>
<td align="left">^(map)$</td>
<td align="left">map</td>
<td align="left">geojson</td>
</tr>
<tr class="odd">
<td align="right">15</td>
<td align="left">^(k|candlestick)$</td>
<td align="left">k</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">16</td>
<td align="left">^(pie)$</td>
<td align="left">pie</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">17</td>
<td align="left">^(ring)$</td>
<td align="left">pie</td>
<td align="left">ring</td>
</tr>
<tr class="even">
<td align="right">18</td>
<td align="left">^(rose)$</td>
<td align="left">pie</td>
<td align="left">rose</td>
</tr>
<tr class="odd">
<td align="right">19</td>
<td align="left">^(chord)$</td>
<td align="left">chord</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">20</td>
<td align="left">^(force|force_curve)$</td>
<td align="left">force</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">21</td>
<td align="left">^(force_line)$</td>
<td align="left">force</td>
<td align="left">line</td>
</tr>
<tr class="even">
<td align="right">22</td>
<td align="left">^(funnel)$</td>
<td align="left">funnel</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">23</td>
<td align="left">^(pyramid)$</td>
<td align="left">funnel</td>
<td align="left">ascending</td>
</tr>
<tr class="even">
<td align="right">24</td>
<td align="left">^(tree|vtree|tree_vertical)$</td>
<td align="left">tree</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">25</td>
<td align="left">^(htree|tree_horizontal)$</td>
<td align="left">tree</td>
<td align="left">horizontal</td>
</tr>
<tr class="even">
<td align="right">26</td>
<td align="left">^(tree_inv|vtree_inv|tree_vertical_inv)$</td>
<td align="left">tree</td>
<td align="left">inv</td>
</tr>
<tr class="odd">
<td align="right">27</td>
<td align="left">^(htree_inv|tree_horizontal_inv)$</td>
<td align="left">tree</td>
<td align="left">horizontal_inv</td>
</tr>
<tr class="even">
<td align="right">28</td>
<td align="left">^(treemap)$</td>
<td align="left">treemap</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">29</td>
<td align="left">^(wordcloud)$</td>
<td align="left">wordCloud</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">30</td>
<td align="left">^(heatmap)$</td>
<td align="left">heatmap</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">31</td>
<td align="left">^(radar|spider|star)$</td>
<td align="left">radar</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">32</td>
<td align="left">^(gauge|dashboard)$</td>
<td align="left">gauge</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">33</td>
<td align="left">^(eventriver)$</td>
<td align="left">eventRiver</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">34</td>
<td align="left">^(venn)$</td>
<td align="left">venn</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>You assign <code>data</code> and <code>x</code>, <code>y</code>, then <code>echartr</code> automatically processes the data using <code>recharts:::series_scatter</code> function.</p>
<p>If <code>series</code> is assigned, a series-specfic scatterplot is shown.</p>
<pre class="r"><code>echartr(mtcars, wt, mpg, factor(am, labels=c(&#39;Automatic&#39;, &#39;Manual&#39;)))</code></pre>
<div id="htmlwidget-5e35b44d9002f525d4d6" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-5e35b44d9002f525d4d6">{"x":{"series":[{"name":"Automatic","type":"scatter","data":[[3.215,21.4],[3.44,18.7],[3.46,18.1],[3.57,14.3],[3.19,24.4],[3.15,22.8],[3.44,19.2],[3.44,17.8],[4.07,16.4],[3.73,17.3],[3.78,15.2],[5.25,10.4],[5.424,10.4],[5.345,14.7],[2.465,21.5],[3.52,15.5],[3.435,15.2],[3.84,13.3],[3.845,19.2]]},{"name":"Manual","type":"scatter","data":[[2.62,21],[2.875,21],[2.32,22.8],[2.2,32.4],[1.615,30.4],[1.835,33.9],[1.935,27.3],[2.14,26],[1.513,30.4],[3.17,15.8],[2.77,19.7],[3.57,15],[2.78,21.4]]}],"legend":{"show":true,"data":["Automatic","Manual"],"x":"left","y":"top","orient":"horizontal"},"yAxis":[{"type":"value","show":true,"position":"left","name":"mpg","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"xAxis":[{"type":"value","show":true,"position":"bottom","name":"wt","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    var i;\n    var text = params.value[0];\n    if (params.seriesName === null || params.seriesName === \"\"){\n        if (params.value.length > 1) {\n            for (i = 1; i < params.value.length; i++){\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.name + \" : \" + text;\n        }\n    } else {\n        if (params.value.length > 1) {\n            text = params.seriesName + \" :<br/>\" + text;\n            for (i = 1; i < params.value.length; i++) {\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.seriesName + \" :<br/>\"\n            + params.name + \" : \" + text;\n        }\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"}},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
<p>If <code>weight</code> is assigned and <code>type</code> is set <code>bubble</code>, a bubble chart is displayed.</p>
<pre class="r"><code>echartr(mtcars, wt, mpg, am, weight=gear, type=&#39;bubble&#39;)</code></pre>
<pre><code>## Warning in split_indices(.group, .n): &#39;.Random.seed&#39; is not an integer
## vector but of type &#39;NULL&#39;, so ignored</code></pre>
<div id="htmlwidget-f9a343f7df54c519587c" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-f9a343f7df54c519587c">{"x":{"series":[{"name":"0","type":"scatter","data":[[3.215,21.4,3],[3.44,18.7,3],[3.46,18.1,3],[3.57,14.3,3],[3.19,24.4,4],[3.15,22.8,4],[3.44,19.2,4],[3.44,17.8,4],[4.07,16.4,3],[3.73,17.3,3],[3.78,15.2,3],[5.25,10.4,3],[5.424,10.4,3],[5.345,14.7,3],[2.465,21.5,3],[3.52,15.5,3],[3.435,15.2,3],[3.84,13.3,3],[3.845,19.2,3]],"symbolSize":"function (value){\n                return 4*Math.round(Math.abs(value[2]/3));\n                }"},{"name":"1","type":"scatter","data":[[2.62,21,4],[2.875,21,4],[2.32,22.8,4],[2.2,32.4,4],[1.615,30.4,4],[1.835,33.9,4],[1.935,27.3,4],[2.14,26,5],[1.513,30.4,5],[3.17,15.8,5],[2.77,19.7,5],[3.57,15,5],[2.78,21.4,4]],"symbolSize":"function (value){\n                return 4*Math.round(Math.abs(value[2]/3));\n                }"}],"legend":{"show":true,"data":["0","1"],"x":"left","y":"top","orient":"horizontal"},"yAxis":[{"type":"value","show":true,"position":"left","name":"mpg","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"xAxis":[{"type":"value","show":true,"position":"bottom","name":"wt","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    var i;\n    var text = params.value[0];\n    if (params.seriesName === null || params.seriesName === \"\"){\n        if (params.value.length > 1) {\n            for (i = 1; i < params.value.length; i++){\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.name + \" : \" + text;\n        }\n    } else {\n        if (params.value.length > 1) {\n            text = params.seriesName + \" :<br/>\" + text;\n            for (i = 1; i < params.value.length; i++) {\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.seriesName + \" :<br/>\"\n            + params.name + \" : \" + text;\n        }\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"}},"evals":["series.0.symbolSize","series.1.symbolSize","tooltip.formatter"],"jsHooks":[]}</script>
</div>
<div id="special-notes" class="section level3">
<h3><span class="header-section-number">3.2.3</span> Special Notes</h3>
<div id="param-list" class="section level4">
<h4><span class="header-section-number">3.2.3.1</span> Param List</h4>
<p>The input param list could be</p>
<ul>
<li>symbols: <code>wt</code>, <code>mpg</code> or even as complicated as <code>factor(am, labels=c('Automatic', 'Mannual'))</code></li>
<li>characters: <code>'wt'</code>, <code>'mpg'</code></li>
<li>formulas: <code>~wt</code>, <code>~mpg</code></li>
</ul>
</div>
<div id="data-requirements" class="section level4">
<h4><span class="header-section-number">3.2.3.2</span> Data Requirements</h4>
<p>Data must be a data.frame. The data series and timeline will display in the original order of <code>series</code> and <code>z</code>, so you should sort the data.frame before making charts so as to make sure the display order is exactly what you want.</p>
<p>When it comes to timeline (<code>z</code>), you must be very cautious. All the combination sets of <code>x</code>, <code>y</code>, <code>series</code>, <code>weight</code> should be exactly equal across all the levels of <code>z</code>. Otherwise you will find confusious overlap of graphs across timeline.</p>
</div>
<div id="type-and-subtype" class="section level4">
<h4><span class="header-section-number">3.2.3.3</span> Type And Subtype</h4>
<div id="mixed-types" class="section level5">
<h5><span class="header-section-number">3.2.3.3.1</span> Mixed Types</h5>
<p><code>recharts</code> supports mixed chart types in some cases, e.g., bar and line.</p>
<pre class="r"><code>d &lt;- data.table::dcast(mtcars, carb+gear~., mean, value.var=&#39;mpg&#39;)
names(d)[3] &lt;- &#39;mean.mpg&#39;
d$carb &lt;- as.character(d$carb)
echartr(d, carb, &quot;mean.mpg&quot;, gear, type=c(&#39;vbar&#39;, &#39;vbar&#39;, &#39;line&#39;)) %&gt;% 
    setSymbols(&#39;emptycircle&#39;)</code></pre>
<div id="htmlwidget-50b89dea65eb1b426fe3" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-50b89dea65eb1b426fe3">{"x":{"series":[{"name":"3","type":"bar","data":[20.3333333333333,17.15,16.3,12.62,"-","-"]},{"name":"4","type":"bar","data":[29.1,24.75,"-",19.75,"-","-"]},{"name":"5","type":"line","data":["-",28.2,"-",15.8,19.7,15]}],"legend":{"show":true,"data":["3","4","5"],"x":"left","y":"top","orient":"horizontal"},"yAxis":[{"type":"value","show":true,"position":"left","name":"mean.mpg","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"xAxis":[{"type":"category","show":true,"position":"bottom","name":"carb","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false},"data":["1","2","3","4","6","8"]}],"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"shadow","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n       var i;\n       var j;\n       var text;\n       var text1;\n       var sName = \"\";\n       if (params.length > 1){\n            if (params[0].value.length >1) {\n                text1 = params[0].value[0];\n            } else {\n                text1 = params[0].value;\n            }\n            text = params[0].name;\n            if (params[0].seriesName) {\n                sName = params[0].seriesName;\n            }\n       } else {\n            if (params[0].value.length > 1) {\n                text1 = params[0].value[0];\n            } else {\n                text1 = params[0].value;\n            }\n            text = params[0].name;\n            if (params[0].seriesName) {\n                sName = params[0].seriesName;\n            }\n       }\n       if (params.length > 1){\n           text += \"<br/>\" + params[0].seriesName + \" :  \" + text1;\n           if (params[0].value.length > 1){\n                for (j = 1; j < params[0].value.length; j++){\n                    text += \", \" + params[0].value[j];\n                }\n           }\n           for (i = 1; i < params.length; i++) {\n                if (params[i].value.length > 1){\n                   text += \"<br/>\" + params[i].seriesName + \" :  \"\n                        + params[i].value[0];\n                   for (j = 1; j < params[i].value.length; j++){\n                        text += \", \" + params[i].value[j];\n                   }\n                } else {\n                   text += \"<br/>\" + params[i].seriesName + \" :  \"\n                        + params[i].value;\n                }\n           }\n       } else {\n           if (params[0].seriesName){\n               text += \"<br/>\" + params[0].seriesName + \" :  \" + text1;\n           } else {\n               text += \" :  \" + text1;\n           }\n           if (params[0].value.length > 1){\n                for (j = 1; j < params[0].value.length; j++){\n                    text += \", \" + params[0].value[j];\n                }\n           }\n       }\n       return text;\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":true,"type":["line","bar","tiled","stack"]},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"symbolList":["emptyCircle","emptyCircle","emptyCircle"]},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
<p>Or mixed subtypes. Refer to ‘subtype’ column in <code>recharts:::validChartTypes</code>. You can assign combined subtypes using ‘+’, ’_‘or’|‘, e.g., ’stack+smooth’ to simultaneously render the line chart stacked and smooth.</p>
<pre class="r"><code>echartr(d, carb, mean.mpg, gear, type=&#39;line&#39;, 
        subtype=c(&#39;stack + smooth&#39;, &#39;stack + dotted&#39;, &#39;smooth + dashed&#39;)) %&gt;%
    setSymbols(&#39;emptycircle&#39;)</code></pre>
<div id="htmlwidget-e62d172474c7ffc61b33" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-e62d172474c7ffc61b33">{"x":{"series":[{"name":"3","type":"line","data":[20.3333333333333,17.15,16.3,12.62,"-","-"],"stack":"Group","smooth":true,"showAllSymbol":true},{"name":"4","type":"line","data":[29.1,24.75,"-",19.75,"-","-"],"stack":"Group","itemStyle":{"normal":{"lineStyle":{"type":"dotted"}}},"showAllSymbol":true},{"name":"5","type":"line","data":["-",28.2,"-",15.8,19.7,15],"itemStyle":{"normal":{"lineStyle":{"type":"dashed"}}},"showAllSymbol":true}],"legend":{"show":true,"data":["3","4","5"],"x":"left","y":"top","orient":"horizontal"},"yAxis":[{"type":"value","show":true,"position":"left","name":"mean.mpg","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"xAxis":[{"type":"category","show":true,"position":"bottom","name":"carb","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false},"data":["1","2","3","4","6","8"]}],"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"line","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n       var i;\n       var j;\n       var text;\n       var text1;\n       var sName = \"\";\n       if (params.length > 1){\n            if (params[0].value.length >1) {\n                text1 = params[0].value[0];\n            } else {\n                text1 = params[0].value;\n            }\n            text = params[0].name;\n            if (params[0].seriesName) {\n                sName = params[0].seriesName;\n            }\n       } else {\n            if (params[0].value.length > 1) {\n                text1 = params[0].value[0];\n            } else {\n                text1 = params[0].value;\n            }\n            text = params[0].name;\n            if (params[0].seriesName) {\n                sName = params[0].seriesName;\n            }\n       }\n       if (params.length > 1){\n           text += \"<br/>\" + params[0].seriesName + \" :  \" + text1;\n           if (params[0].value.length > 1){\n                for (j = 1; j < params[0].value.length; j++){\n                    text += \", \" + params[0].value[j];\n                }\n           }\n           for (i = 1; i < params.length; i++) {\n                if (params[i].value.length > 1){\n                   text += \"<br/>\" + params[i].seriesName + \" :  \"\n                        + params[i].value[0];\n                   for (j = 1; j < params[i].value.length; j++){\n                        text += \", \" + params[i].value[j];\n                   }\n                } else {\n                   text += \"<br/>\" + params[i].seriesName + \" :  \"\n                        + params[i].value;\n                }\n           }\n       } else {\n           if (params[0].seriesName){\n               text += \"<br/>\" + params[0].seriesName + \" :  \" + text1;\n           } else {\n               text += \" :  \" + text1;\n           }\n           if (params[0].value.length > 1){\n                for (j = 1; j < params[0].value.length; j++){\n                    text += \", \" + params[0].value[j];\n                }\n           }\n       }\n       return text;\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":true,"type":["line","bar","tiled","stack"]},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"symbolList":["emptyCircle","emptyCircle","emptyCircle"]},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
</div>
<div id="associating-typesubtype-with-facets" class="section level5">
<h5><span class="header-section-number">3.2.3.3.2</span> Associating Type/Subtype with Facets</h5>
<p>The above example shows how to associate type/subtype with series. If you want to associate type/subtype with facets, you need to wrap them in a list. Within each list, the vector of type/subtypes are associated with series, ie, list[[1]], list[[2]], … are associated with facet 1, 2, …, while list[[1]][1], list[[1]][2], … are associated with series 1, 2, …</p>
<p>If facet has 2 levels and series has 3 levels, it means type and subtype should have a structure of list(c(s1,s2,s3), c(s1,s2,s3)). recharts will try to supplement/cut the income params type and subtype to meet the mapping relationship.</p>
<pre class="r"><code>d1 &lt;- data.frame(x=rep(LETTERS[1:6], 4), y=abs(rnorm(24)), 
                 f=c(rep(&#39;i&#39;, 12), rep(&#39;ii&#39;, 12)), 
                 s=rep(c(rep(&#39;I&#39;, 6), rep(&#39;II&#39;, 6)), 2))
echartr(d1, x, y, s, facet=f, type=&#39;radar&#39;, 
        subtype=list(c(&#39;fill&#39;, &#39;&#39;), c(&#39;&#39;, &#39;fill&#39;)))</code></pre>
<div id="htmlwidget-369696478853ce46e1a8" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-369696478853ce46e1a8">{"x":{"series":[{"type":"radar","symbol":"none","name":"i","data":[{"name":"I","value":[0.756486153032566,1.61122655119702,2.23274199808883,1.99092018599839,0.356010537882151,0.682050429921672],"itemStyle":{"normal":{"areaStyle":{"type":"default"}}}},{"name":"II","value":[0.215994039955542,0.15077493583563,0.0378506840386952,2.90890737349384,2.97377424448698,0.2801428422339]}]},{"type":"radar","symbol":"none","name":"ii","data":[{"name":"I","value":[0.360686687587837,0.8268005958403,1.85164578672062,0.579659700054802,0.680146546612415,1.8355782713994]},{"name":"II","value":[1.37500987720729,0.225508404734487,0.0358033506269331,1.21725687943042,1.32259632060122,0.538790086973844],"itemStyle":{"normal":{"areaStyle":{"type":"default"}}}}],"polarIndex":1}],"legend":{"show":true,"data":["I","II"],"x":"left","y":"top","orient":"horizontal"},"xAxis":[{"type":"category","show":false,"position":"bottom","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false},"data":["A","B","C","D","E","F"]}],"yAxis":[{"type":"value","show":false,"position":"left","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"grid":{"borderWidth":0},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"polar":[{"center":["27.5%","50%"],"radius":"39.25%","indicator":[{"text":"A","max":1.65001185264874},{"text":"B","max":1.93347186143642},{"text":"C","max":2.67929039770659},{"text":"D","max":3.49068884819261},{"text":"E","max":3.56852909338437},{"text":"F","max":2.20269392567928}]},{"center":["72.5%","50%"],"radius":"39.25%","indicator":[{"text":"A","max":1.65001185264874},{"text":"B","max":1.93347186143642},{"text":"C","max":2.67929039770659},{"text":"D","max":3.49068884819261},{"text":"E","max":3.56852909338437},{"text":"F","max":2.20269392567928}]}]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
<div id="modify-the-plot" class="section level2">
<h2><span class="header-section-number">3.3</span> Modify the Plot</h2>
<p>You can save the plot as an object and keep modifying the plot using <code>%&gt;%</code>.</p>
<pre class="r"><code>g = echartr(mtcars, wt, mpg, factor(am, labels=c(&#39;Automatic&#39;, &#39;Manual&#39;)))</code></pre>
<div id="tune-the-series" class="section level3">
<h3><span class="header-section-number">3.3.1</span> Tune the Series</h3>
<p>The above command made an Echarts object <code>g</code> containing two series: ‘Automatic’ and ‘Manual’. The data strcuture of <code>g</code> is:</p>
<pre><code>- x
  |-- series
      |--- list 1
           |---- name: &#39;Automatic&#39;
           |---- data: ...
           |---- type: &#39;scatter&#39;
      |--- list 2
           |---- name: &#39;Manual&#39;
           |---- data: ...
           |---- type: &#39;scatter&#39;
      |--- ...
  |-- legend
  |-- xAxis
  |-- yAxis
  |-- grid  
  |-- tooltip
  |-- ...</code></pre>
<p>If you want to customize the definition of the series directly, you can call the low-level function <code>setSeries</code>.</p>
<p>Let’s set ‘Manual’ series (series index 2) symbolSize 8, symbolRotate 30.</p>
<pre class="r"><code>g %&gt;% setSeries(series=2, symbolSize=8, symbolRotate=30)</code></pre>
<div id="htmlwidget-6413f015764a47d923da" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-6413f015764a47d923da">{"x":{"series":[{"name":"Automatic","type":"scatter","data":[[3.215,21.4],[3.44,18.7],[3.46,18.1],[3.57,14.3],[3.19,24.4],[3.15,22.8],[3.44,19.2],[3.44,17.8],[4.07,16.4],[3.73,17.3],[3.78,15.2],[5.25,10.4],[5.424,10.4],[5.345,14.7],[2.465,21.5],[3.52,15.5],[3.435,15.2],[3.84,13.3],[3.845,19.2]]},{"name":"Manual","type":"scatter","data":[[2.62,21],[2.875,21],[2.32,22.8],[2.2,32.4],[1.615,30.4],[1.835,33.9],[1.935,27.3],[2.14,26],[1.513,30.4],[3.17,15.8],[2.77,19.7],[3.57,15],[2.78,21.4]],"symbolSize":8,"symbolRotate":30}],"legend":{"show":true,"data":["Automatic","Manual"],"x":"left","y":"top","orient":"horizontal"},"yAxis":[{"type":"value","show":true,"position":"left","name":"mpg","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"xAxis":[{"type":"value","show":true,"position":"bottom","name":"wt","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    var i;\n    var text = params.value[0];\n    if (params.seriesName === null || params.seriesName === \"\"){\n        if (params.value.length > 1) {\n            for (i = 1; i < params.value.length; i++){\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.name + \" : \" + text;\n        }\n    } else {\n        if (params.value.length > 1) {\n            text = params.seriesName + \" :<br/>\" + text;\n            for (i = 1; i < params.value.length; i++) {\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.seriesName + \" :<br/>\"\n            + params.name + \" : \" + text;\n        }\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"}},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
</div>
<div id="markline" class="section level3">
<h3><span class="header-section-number">3.3.2</span> markLine</h3>
<p>Markline the average level of the two series.</p>
<pre class="r"><code>g %&gt;% addMarkLine(data=data.frame(type=&#39;average&#39;, name1=&#39;Avg&#39;))</code></pre>
<div id="htmlwidget-5ae9e2ffdb5e641c39e7" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-5ae9e2ffdb5e641c39e7">{"x":{"series":[{"name":"Automatic","type":"scatter","data":[[3.215,21.4],[3.44,18.7],[3.46,18.1],[3.57,14.3],[3.19,24.4],[3.15,22.8],[3.44,19.2],[3.44,17.8],[4.07,16.4],[3.73,17.3],[3.78,15.2],[5.25,10.4],[5.424,10.4],[5.345,14.7],[2.465,21.5],[3.52,15.5],[3.435,15.2],[3.84,13.3],[3.845,19.2]],"markLine":{"data":[{"name":"Avg","type":"average"}],"clickable":true,"symbol":["circle","arrow"],"smooth":false,"symbolSize":[2,4],"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45}}},{"name":"Manual","type":"scatter","data":[[2.62,21],[2.875,21],[2.32,22.8],[2.2,32.4],[1.615,30.4],[1.835,33.9],[1.935,27.3],[2.14,26],[1.513,30.4],[3.17,15.8],[2.77,19.7],[3.57,15],[2.78,21.4]],"markLine":{"data":[{"name":"Avg","type":"average"}],"clickable":true,"symbol":["circle","arrow"],"smooth":false,"symbolSize":[2,4],"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45}}}],"legend":{"show":true,"data":["Automatic","Manual"],"x":"left","y":"top","orient":"horizontal"},"yAxis":[{"type":"value","show":true,"position":"left","name":"mpg","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"xAxis":[{"type":"value","show":true,"position":"bottom","name":"wt","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    var i;\n    var text = params.value[0];\n    if (params.seriesName === null || params.seriesName === \"\"){\n        if (params.value.length > 1) {\n            for (i = 1; i < params.value.length; i++){\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.name + \" : \" + text;\n        }\n    } else {\n        if (params.value.length > 1) {\n            text = params.seriesName + \" :<br/>\" + text;\n            for (i = 1; i < params.value.length; i++) {\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.seriesName + \" :<br/>\"\n            + params.name + \" : \" + text;\n        }\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"}},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
</div>
<div id="markpoint" class="section level3">
<h3><span class="header-section-number">3.3.3</span> markPoint</h3>
<p>Markpoint the maximum of series 1 (‘Automatic’).</p>
<pre class="r"><code>g %&gt;% addMarkPoint(series=1, data=data.frame(type=&#39;max&#39;, name=&#39;Max&#39;))</code></pre>
<div id="htmlwidget-cff4bc6f2488b2f17176" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-cff4bc6f2488b2f17176">{"x":{"series":[{"name":"Automatic","type":"scatter","data":[[3.215,21.4],[3.44,18.7],[3.46,18.1],[3.57,14.3],[3.19,24.4],[3.15,22.8],[3.44,19.2],[3.44,17.8],[4.07,16.4],[3.73,17.3],[3.78,15.2],[5.25,10.4],[5.424,10.4],[5.345,14.7],[2.465,21.5],[3.52,15.5],[3.435,15.2],[3.84,13.3],[3.845,19.2]],"markPoint":{"data":[{"name":"Max","type":"max"}],"clickable":true,"symbol":"pin","symbolSize":10,"large":false,"effect":{"show":false}}},{"name":"Manual","type":"scatter","data":[[2.62,21],[2.875,21],[2.32,22.8],[2.2,32.4],[1.615,30.4],[1.835,33.9],[1.935,27.3],[2.14,26],[1.513,30.4],[3.17,15.8],[2.77,19.7],[3.57,15],[2.78,21.4]]}],"legend":{"show":true,"data":["Automatic","Manual"],"x":"left","y":"top","orient":"horizontal"},"yAxis":[{"type":"value","show":true,"position":"left","name":"mpg","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"xAxis":[{"type":"value","show":true,"position":"bottom","name":"wt","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    var i;\n    var text = params.value[0];\n    if (params.seriesName === null || params.seriesName === \"\"){\n        if (params.value.length > 1) {\n            for (i = 1; i < params.value.length; i++){\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.name + \" : \" + text;\n        }\n    } else {\n        if (params.value.length > 1) {\n            text = params.seriesName + \" :<br/>\" + text;\n            for (i = 1; i < params.value.length; i++) {\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.seriesName + \" :<br/>\"\n            + params.name + \" : \" + text;\n        }\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"}},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
<p>It’s the same as</p>
<pre class="r"><code>g %&gt;% addMarkPoint(series=&#39;Automatic&#39;, data=data.frame(type=&#39;max&#39;, name=&#39;Max&#39;))</code></pre>
</div>
<div id="title" class="section level3">
<h3><span class="header-section-number">3.3.4</span> Title</h3>
<p>Add title (in red) and subtitle (with reference link to <a href="https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/mtcars.html" class="uri">https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/mtcars.html</a>) to the chart.</p>
<pre class="r"><code>link &lt;- &#39;https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/mtcars.html&#39;
g %&gt;% setTitle(&#39;wt vs mpg&#39;, paste0(&#39;[Motor Trend](&#39;, link, &#39;)&#39;), 
               textStyle=list(color=&#39;red&#39;))</code></pre>
<div id="htmlwidget-c20020ab9c5662d37b86" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-c20020ab9c5662d37b86">{"x":{"series":[{"name":"Automatic","type":"scatter","data":[[3.215,21.4],[3.44,18.7],[3.46,18.1],[3.57,14.3],[3.19,24.4],[3.15,22.8],[3.44,19.2],[3.44,17.8],[4.07,16.4],[3.73,17.3],[3.78,15.2],[5.25,10.4],[5.424,10.4],[5.345,14.7],[2.465,21.5],[3.52,15.5],[3.435,15.2],[3.84,13.3],[3.845,19.2]]},{"name":"Manual","type":"scatter","data":[[2.62,21],[2.875,21],[2.32,22.8],[2.2,32.4],[1.615,30.4],[1.835,33.9],[1.935,27.3],[2.14,26],[1.513,30.4],[3.17,15.8],[2.77,19.7],[3.57,15],[2.78,21.4]]}],"legend":{"show":true,"data":["Automatic","Manual"],"x":"left","y":"top","orient":"horizontal"},"yAxis":[{"type":"value","show":true,"position":"left","name":"mpg","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"xAxis":[{"type":"value","show":true,"position":"bottom","name":"wt","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    var i;\n    var text = params.value[0];\n    if (params.seriesName === null || params.seriesName === \"\"){\n        if (params.value.length > 1) {\n            for (i = 1; i < params.value.length; i++){\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.name + \" : \" + text;\n        }\n    } else {\n        if (params.value.length > 1) {\n            text = params.seriesName + \" :<br/>\" + text;\n            for (i = 1; i < params.value.length; i++) {\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.seriesName + \" :<br/>\"\n            + params.name + \" : \" + text;\n        }\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"title":{"text":"wt vs mpg","subtext":"Motor Trend","sublink":"https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/mtcars.html","x":"center","y":"bottom","orient":"horizontal","textStyle":{"color":"red"}}},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
</div>
<div id="legend" class="section level3">
<h3><span class="header-section-number">3.3.5</span> Legend</h3>
<p>Modify the legend (in lime), and only select series 1 (‘Automatic’) at the beginning.</p>
<pre class="r"><code>g %&gt;% setLegend(selected=&#39;Automatic&#39;, textStyle=list(color=&#39;lime&#39;))</code></pre>
<div id="htmlwidget-7c55231a4ba06f8d0d12" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-7c55231a4ba06f8d0d12">{"x":{"series":[{"name":"Automatic","type":"scatter","data":[[3.215,21.4],[3.44,18.7],[3.46,18.1],[3.57,14.3],[3.19,24.4],[3.15,22.8],[3.44,19.2],[3.44,17.8],[4.07,16.4],[3.73,17.3],[3.78,15.2],[5.25,10.4],[5.424,10.4],[5.345,14.7],[2.465,21.5],[3.52,15.5],[3.435,15.2],[3.84,13.3],[3.845,19.2]]},{"name":"Manual","type":"scatter","data":[[2.62,21],[2.875,21],[2.32,22.8],[2.2,32.4],[1.615,30.4],[1.835,33.9],[1.935,27.3],[2.14,26],[1.513,30.4],[3.17,15.8],[2.77,19.7],[3.57,15],[2.78,21.4]]}],"legend":{"show":true,"data":["Automatic","Manual"],"x":"left","y":"top","orient":"horizontal","selected":{"Manual":false},"selectedMode":"single","textStyle":{"color":"lime"}},"yAxis":[{"type":"value","show":true,"position":"left","name":"mpg","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"xAxis":[{"type":"value","show":true,"position":"bottom","name":"wt","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    var i;\n    var text = params.value[0];\n    if (params.seriesName === null || params.seriesName === \"\"){\n        if (params.value.length > 1) {\n            for (i = 1; i < params.value.length; i++){\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.name + \" : \" + text;\n        }\n    } else {\n        if (params.value.length > 1) {\n            text = params.seriesName + \" :<br/>\" + text;\n            for (i = 1; i < params.value.length; i++) {\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.seriesName + \" :<br/>\"\n            + params.name + \" : \" + text;\n        }\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"}},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
</div>
<div id="toolbox" class="section level3">
<h3><span class="header-section-number">3.3.6</span> Toolbox</h3>
<p>Modify toolbox as English, and put it to the upper-right of the chart with vertical display.</p>
<pre class="r"><code>g %&gt;% setToolbox(lang=&#39;en&#39;, pos=2)</code></pre>
<div id="htmlwidget-b3e8f4586671a878fc69" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-b3e8f4586671a878fc69">{"x":{"series":[{"name":"Automatic","type":"scatter","data":[[3.215,21.4],[3.44,18.7],[3.46,18.1],[3.57,14.3],[3.19,24.4],[3.15,22.8],[3.44,19.2],[3.44,17.8],[4.07,16.4],[3.73,17.3],[3.78,15.2],[5.25,10.4],[5.424,10.4],[5.345,14.7],[2.465,21.5],[3.52,15.5],[3.435,15.2],[3.84,13.3],[3.845,19.2]]},{"name":"Manual","type":"scatter","data":[[2.62,21],[2.875,21],[2.32,22.8],[2.2,32.4],[1.615,30.4],[1.835,33.9],[1.935,27.3],[2.14,26],[1.513,30.4],[3.17,15.8],[2.77,19.7],[3.57,15],[2.78,21.4]]}],"legend":{"show":true,"data":["Automatic","Manual"],"x":"left","y":"top","orient":"horizontal"},"yAxis":[{"type":"value","show":true,"position":"left","name":"mpg","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"xAxis":[{"type":"value","show":true,"position":"bottom","name":"wt","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    var i;\n    var text = params.value[0];\n    if (params.seriesName === null || params.seriesName === \"\"){\n        if (params.value.length > 1) {\n            for (i = 1; i < params.value.length; i++){\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.name + \" : \" + text;\n        }\n    } else {\n        if (params.value.length > 1) {\n            text = params.seriesName + \" :<br/>\" + text;\n            for (i = 1; i < params.value.length; i++) {\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.seriesName + \" :<br/>\"\n            + params.name + \" : \" + text;\n        }\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true,"title":{"mark":"Apply Auxiliary Conductor","markUndo":"Undo Auxiliary Conductor","markClear":"Clear Auxiliary Conductor"}},"dataZoom":{"show":true,"title":{"dataZoom":"Data Zoom","dataZoomReset":"Reset Data Zoom"}},"dataView":{"show":true,"readOnly":false,"title":"Data View","lang":["Data View","Close","Refresh"]},"magicType":{"show":false},"restore":{"show":true,"title":"Restore"},"saveAsImage":{"show":true,"title":"Save As Image","lang":"Click to Save"}},"x":"right","y":"top","orient":"vertical"}},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
</div>
<div id="datazoom" class="section level3">
<h3><span class="header-section-number">3.3.7</span> DataZoom</h3>
<p>Add dataZoom (orignally there is not one).</p>
<pre class="r"><code>g %&gt;% setDataZoom()</code></pre>
<div id="htmlwidget-0d67b1aa6e5126275f12" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-0d67b1aa6e5126275f12">{"x":{"series":[{"name":"Automatic","type":"scatter","data":[[3.215,21.4],[3.44,18.7],[3.46,18.1],[3.57,14.3],[3.19,24.4],[3.15,22.8],[3.44,19.2],[3.44,17.8],[4.07,16.4],[3.73,17.3],[3.78,15.2],[5.25,10.4],[5.424,10.4],[5.345,14.7],[2.465,21.5],[3.52,15.5],[3.435,15.2],[3.84,13.3],[3.845,19.2]]},{"name":"Manual","type":"scatter","data":[[2.62,21],[2.875,21],[2.32,22.8],[2.2,32.4],[1.615,30.4],[1.835,33.9],[1.935,27.3],[2.14,26],[1.513,30.4],[3.17,15.8],[2.77,19.7],[3.57,15],[2.78,21.4]]}],"legend":{"show":true,"data":["Automatic","Manual"],"x":"left","y":"top","orient":"horizontal"},"yAxis":[{"type":"value","show":true,"position":"left","name":"mpg","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"xAxis":[{"type":"value","show":true,"position":"bottom","name":"wt","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    var i;\n    var text = params.value[0];\n    if (params.seriesName === null || params.seriesName === \"\"){\n        if (params.value.length > 1) {\n            for (i = 1; i < params.value.length; i++){\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.name + \" : \" + text;\n        }\n    } else {\n        if (params.value.length > 1) {\n            text = params.seriesName + \" :<br/>\" + text;\n            for (i = 1; i < params.value.length; i++) {\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.seriesName + \" :<br/>\"\n            + params.name + \" : \" + text;\n        }\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"dataZoom":{"show":true,"orient":"horizontal","height":30,"x":80}},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
</div>
<div id="axis" class="section level3">
<h3><span class="header-section-number">3.3.8</span> Axis</h3>
<p>Modify axes to make x- and y-axis cross at zero.</p>
<pre class="r"><code>g %&gt;% setXAxis(min=0) %&gt;% setYAxis(min=0)</code></pre>
<div id="htmlwidget-fd7b364fa6c0eecbdfbd" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-fd7b364fa6c0eecbdfbd">{"x":{"series":[{"name":"Automatic","type":"scatter","data":[[3.215,21.4],[3.44,18.7],[3.46,18.1],[3.57,14.3],[3.19,24.4],[3.15,22.8],[3.44,19.2],[3.44,17.8],[4.07,16.4],[3.73,17.3],[3.78,15.2],[5.25,10.4],[5.424,10.4],[5.345,14.7],[2.465,21.5],[3.52,15.5],[3.435,15.2],[3.84,13.3],[3.845,19.2]]},{"name":"Manual","type":"scatter","data":[[2.62,21],[2.875,21],[2.32,22.8],[2.2,32.4],[1.615,30.4],[1.835,33.9],[1.935,27.3],[2.14,26],[1.513,30.4],[3.17,15.8],[2.77,19.7],[3.57,15],[2.78,21.4]]}],"legend":{"show":true,"data":["Automatic","Manual"],"x":"left","y":"top","orient":"horizontal"},"yAxis":[{"type":"value","show":true,"position":"left","name":"mpg","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false},"min":0}],"xAxis":[{"type":"value","show":true,"position":"bottom","name":"wt","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false},"min":0}],"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    var i;\n    var text = params.value[0];\n    if (params.seriesName === null || params.seriesName === \"\"){\n        if (params.value.length > 1) {\n            for (i = 1; i < params.value.length; i++){\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.name + \" : \" + text;\n        }\n    } else {\n        if (params.value.length > 1) {\n            text = params.seriesName + \" :<br/>\" + text;\n            for (i = 1; i < params.value.length; i++) {\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.seriesName + \" :<br/>\"\n            + params.name + \" : \" + text;\n        }\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"}},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
</div>
</div>
<div id="fortify-the-chart" class="section level2">
<h2><span class="header-section-number">3.4</span> Fortify the Chart</h2>
<div id="theme" class="section level3">
<h3><span class="header-section-number">3.4.1</span> Theme</h3>
<p>Apply ‘dark’ theme to the chart. You can also apply “macarons”, “infographic”, “blue”, “dark”, “gray”, “green”, “helianthus”, “macarons2”, “mint”, “red”, “roma”, “sakura”, “shine”, and “vintage”.</p>
<p>Calculable is a special interation in Echarts. In other charts (e.g.,pie), it is quite efficient.</p>
<pre class="r"><code>g %&gt;% setTheme(&#39;dark&#39;, calculable=TRUE)</code></pre>
<div id="htmlwidget-e32ecb8181fdfb25edbe" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-e32ecb8181fdfb25edbe">{"x":{"series":[{"name":"Automatic","type":"scatter","data":[[3.215,21.4],[3.44,18.7],[3.46,18.1],[3.57,14.3],[3.19,24.4],[3.15,22.8],[3.44,19.2],[3.44,17.8],[4.07,16.4],[3.73,17.3],[3.78,15.2],[5.25,10.4],[5.424,10.4],[5.345,14.7],[2.465,21.5],[3.52,15.5],[3.435,15.2],[3.84,13.3],[3.845,19.2]]},{"name":"Manual","type":"scatter","data":[[2.62,21],[2.875,21],[2.32,22.8],[2.2,32.4],[1.615,30.4],[1.835,33.9],[1.935,27.3],[2.14,26],[1.513,30.4],[3.17,15.8],[2.77,19.7],[3.57,15],[2.78,21.4]]}],"legend":{"show":true,"data":["Automatic","Manual"],"x":"left","y":"top","orient":"horizontal"},"yAxis":[{"type":"value","show":true,"position":"left","name":"mpg","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"xAxis":[{"type":"value","show":true,"position":"bottom","name":"wt","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    var i;\n    var text = params.value[0];\n    if (params.seriesName === null || params.seriesName === \"\"){\n        if (params.value.length > 1) {\n            for (i = 1; i < params.value.length; i++){\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.name + \" : \" + text;\n        }\n    } else {\n        if (params.value.length > 1) {\n            text = params.seriesName + \" :<br/>\" + text;\n            for (i = 1; i < params.value.length; i++) {\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.seriesName + \" :<br/>\"\n            + params.name + \" : \" + text;\n        }\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"theme":"dark","calculable":true},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
</div>
<div id="symbols" class="section level3">
<h3><span class="header-section-number">3.4.2</span> Symbols</h3>
<p>Set symbolList for series 1 (‘Automatic’) ‘heart’ and that for series 2 (‘Manual’) ‘star6’.</p>
<pre class="r"><code>g %&gt;% setSymbols(c(&#39;heart&#39;, &#39;star6&#39;))</code></pre>
<div id="htmlwidget-1a1ab182aee9152ad0b7" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-1a1ab182aee9152ad0b7">{"x":{"series":[{"name":"Automatic","type":"scatter","data":[[3.215,21.4],[3.44,18.7],[3.46,18.1],[3.57,14.3],[3.19,24.4],[3.15,22.8],[3.44,19.2],[3.44,17.8],[4.07,16.4],[3.73,17.3],[3.78,15.2],[5.25,10.4],[5.424,10.4],[5.345,14.7],[2.465,21.5],[3.52,15.5],[3.435,15.2],[3.84,13.3],[3.845,19.2]]},{"name":"Manual","type":"scatter","data":[[2.62,21],[2.875,21],[2.32,22.8],[2.2,32.4],[1.615,30.4],[1.835,33.9],[1.935,27.3],[2.14,26],[1.513,30.4],[3.17,15.8],[2.77,19.7],[3.57,15],[2.78,21.4]]}],"legend":{"show":true,"data":["Automatic","Manual"],"x":"left","y":"top","orient":"horizontal"},"yAxis":[{"type":"value","show":true,"position":"left","name":"mpg","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"xAxis":[{"type":"value","show":true,"position":"bottom","name":"wt","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    var i;\n    var text = params.value[0];\n    if (params.seriesName === null || params.seriesName === \"\"){\n        if (params.value.length > 1) {\n            for (i = 1; i < params.value.length; i++){\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.name + \" : \" + text;\n        }\n    } else {\n        if (params.value.length > 1) {\n            text = params.seriesName + \" :<br/>\" + text;\n            for (i = 1; i < params.value.length; i++) {\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.seriesName + \" :<br/>\"\n            + params.name + \" : \" + text;\n        }\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":true},"dataView":{"show":true,"readOnly":false},"magicType":{"show":false},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"symbolList":["heart","star6"]},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
</div>
</div>
<div id="altogether" class="section level2">
<h2><span class="header-section-number">3.5</span> Altogether</h2>
<p>You can combine all the steps using a pipe chain. If you are familiar with JS, you can embed JS fragments using <code>JS()</code> for better effects.</p>
<pre class="r"><code>g %&gt;% setSeries(series=2, symbolSize=8, symbolRotate=30) %&gt;% 
    addMarkLine(data=data.frame(type=&#39;average&#39;, name1=&#39;Avg&#39;)) %&gt;%
    addMarkPoint(series=1, data=data.frame(type=&#39;max&#39;, name=&#39;Max&#39;)) %&gt;%
    setTitle(&#39;wt vs mpg&#39;, paste0(&#39;[Motor Trend](&#39;, link, &#39;)&#39;), 
               textStyle=list(color=&#39;red&#39;)) %&gt;%
    setLegend(selected=&#39;Automatic&#39;, textStyle=list(color=&#39;lime&#39;)) %&gt;%
    setToolbox(lang=&#39;en&#39;, pos=2) %&gt;% setDataZoom() %&gt;% 
    setTheme(&#39;dark&#39;, calculable=TRUE) %&gt;% setSymbols(c(&#39;heart&#39;, &#39;star6&#39;))</code></pre>
<div id="htmlwidget-47368f6279f2b06ac3de" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-47368f6279f2b06ac3de">{"x":{"series":[{"name":"Automatic","type":"scatter","data":[[3.215,21.4],[3.44,18.7],[3.46,18.1],[3.57,14.3],[3.19,24.4],[3.15,22.8],[3.44,19.2],[3.44,17.8],[4.07,16.4],[3.73,17.3],[3.78,15.2],[5.25,10.4],[5.424,10.4],[5.345,14.7],[2.465,21.5],[3.52,15.5],[3.435,15.2],[3.84,13.3],[3.845,19.2]],"markLine":{"data":[{"name":"Avg","type":"average"}],"clickable":true,"symbol":["circle","arrow"],"smooth":false,"symbolSize":[2,4],"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45}},"markPoint":{"data":[{"name":"Max","type":"max"}],"clickable":true,"symbol":"pin","symbolSize":10,"large":false,"effect":{"show":false}}},{"name":"Manual","type":"scatter","data":[[2.62,21],[2.875,21],[2.32,22.8],[2.2,32.4],[1.615,30.4],[1.835,33.9],[1.935,27.3],[2.14,26],[1.513,30.4],[3.17,15.8],[2.77,19.7],[3.57,15],[2.78,21.4]],"symbolSize":8,"symbolRotate":30,"markLine":{"data":[{"name":"Avg","type":"average"}],"clickable":true,"symbol":["circle","arrow"],"smooth":false,"symbolSize":[2,4],"large":false,"effect":{"show":false},"smoothness":0.2,"precision":2,"bundling":{"enable":false,"maxTurningAngle":45}}}],"legend":{"show":true,"data":["Automatic","Manual"],"x":"left","y":"top","orient":"horizontal","selected":{"Manual":false},"selectedMode":"single","textStyle":{"color":"lime"}},"yAxis":[{"type":"value","show":true,"position":"left","name":"mpg","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"xAxis":[{"type":"value","show":true,"position":"bottom","name":"wt","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"tooltip":{"show":true,"trigger":"axis","axisPointer":{"type":"cross","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    var i;\n    var text = params.value[0];\n    if (params.seriesName === null || params.seriesName === \"\"){\n        if (params.value.length > 1) {\n            for (i = 1; i < params.value.length; i++){\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.name + \" : \" + text;\n        }\n    } else {\n        if (params.value.length > 1) {\n            text = params.seriesName + \" :<br/>\" + text;\n            for (i = 1; i < params.value.length; i++) {\n                text += \" ,    \" + params.value[i];\n            }\n            return text;\n        } else {\n            return params.seriesName + \" :<br/>\"\n            + params.name + \" : \" + text;\n        }\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true,"title":{"mark":"Apply Auxiliary Conductor","markUndo":"Undo Auxiliary Conductor","markClear":"Clear Auxiliary Conductor"}},"dataZoom":{"show":true,"title":{"dataZoom":"Data Zoom","dataZoomReset":"Reset Data Zoom"}},"dataView":{"show":true,"readOnly":false,"title":"Data View","lang":["Data View","Close","Refresh"]},"magicType":{"show":false},"restore":{"show":true,"title":"Restore"},"saveAsImage":{"show":true,"title":"Save As Image","lang":"Click to Save"}},"x":"right","y":"top","orient":"vertical"},"title":{"text":"wt vs mpg","subtext":"Motor Trend","sublink":"https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/mtcars.html","x":"center","y":"bottom","orient":"horizontal","textStyle":{"color":"red"}},"dataZoom":{"show":true,"orient":"horizontal","height":30,"y2":50,"y":870,"x":80},"grid":{"y2":110},"theme":"dark","calculable":true,"symbolList":["heart","star6"]},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
</div>
</div>
<div id="low-level-api" class="section level1">
<h1><span class="header-section-number">4</span> Low-level API</h1>
<div id="de-novo" class="section level2">
<h2><span class="header-section-number">4.1</span> De Novo</h2>
<p>Given that ECharts supports so many types of charts, it may take a while for us to make <code>echartr()</code> really smart. With that in mind, we also provided a really low-level S3 method defined for lists. Since the main usage of ECharts is that you pass a JavaScript object to the method <code>.setOption()</code>, and we can construct such an object using a list in R. This low-level <code>echart.list()</code> method makes it possible for you to create arbitrary charts. Here is a simple example of a Chord diagram taken from <a href="http://echarts.baidu.com/doc/example/chord1.html" class="uri">http://echarts.baidu.com/doc/example/chord1.html</a>:</p>
<pre class="r"><code>chordEx1 = list(
  title = list(
    text = &#39;测试数据&#39;,
    subtext = &#39;From d3.js&#39;,
    x = &#39;right&#39;,
    y = &#39;bottom&#39;
  ),
  tooltip = list(
    trigger = &#39;item&#39;,
    formatter = JS(&#39;function(params) {
      if (params.indicator2) { // is edge
        return params.value.weight;
      } else {// is node
        return params.name
      }
    }&#39;)
  ),
  toolbox = list(
    show = TRUE,
    feature = list(
      restore = list(show = TRUE),
      magicType = list(show = TRUE, type = c(&#39;force&#39;, &#39;chord&#39;)),
      saveAsImage = list(show = TRUE)
    )
  ),
  legend = list(
    x = &#39;left&#39;,
    data = c(&#39;group1&#39;, &#39;group2&#39;, &#39;group3&#39;, &#39;group4&#39;)
  ),
  series = list(
    list(
      type = &#39;chord&#39;,
      sort = &#39;ascending&#39;,
      sortSub = &#39;descending&#39;,
      showScale = TRUE,
      showScaleText = TRUE,
      data = list(
        list(name = &#39;group1&#39;),
        list(name = &#39;group2&#39;),
        list(name = &#39;group3&#39;),
        list(name = &#39;group4&#39;)
      ),
      itemStyle = list(
        normal = list(
          label = list(show = FALSE)
        )
      ),
      matrix = rbind(
        c(11975,  5871, 8916, 2868),
        c( 1951, 10048, 2060, 6171),
        c( 8010, 16145, 8090, 8045),
        c( 1013,   990,  940, 6907)
      )
    )
  )
)

echart(chordEx1)</code></pre>
<div id="htmlwidget-6cfed05c7b78b9286f2d" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="htmlwidget-6cfed05c7b78b9286f2d">{"x":{"title":{"text":"测试数据","subtext":"From d3.js","x":"right","y":"bottom"},"tooltip":{"trigger":"item","formatter":"function(params) {\n      if (params.indicator2) { // is edge\n        return params.value.weight;\n      } else {// is node\n        return params.name\n      }\n    }"},"toolbox":{"show":true,"feature":{"restore":{"show":true},"magicType":{"show":true,"type":["force","chord"]},"saveAsImage":{"show":true}}},"legend":{"x":"left","data":["group1","group2","group3","group4"]},"series":[{"type":"chord","sort":"ascending","sortSub":"descending","showScale":true,"showScaleText":true,"data":[{"name":"group1"},{"name":"group2"},{"name":"group3"},{"name":"group4"}],"itemStyle":{"normal":{"label":{"show":false}}},"matrix":[[11975,5871,8916,2868],[1951,10048,2060,6171],[8010,16145,8090,8045],[1013,990,940,6907]]}]},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
<p>Apparently, all we did was to translate the JavaScript object in the <a href="http://echarts.baidu.com/doc/example/chord1.html">original example</a> into R. Note we translated the function <code>tooltip.fomatter</code> using the <code>JS()</code> function in <strong>htmlwidgets</strong>. All other objects can be mapped naturally to R.</p>
</div>
<div id="modify-the-echarts-object" class="section level2">
<h2><span class="header-section-number">4.2</span> Modify the Echarts Object</h2>
<p>We can also yield an echarts object using <code>echartr</code> and then modify the object directly as we do to a S3 list, if we are familiar with echarts data structure.</p>
<p>The following is the structure of the object <code>g</code> we producted by <code>echartr(mtcars, wt, mpg, factor(am, labels=c('Automatic', 'Mannual')))</code>.</p>
<pre class="r"><code>enquote(g)</code></pre>
<pre><code>## quote(list(x = list(series = list(list(name = &quot;Automatic&quot;, type = &quot;scatter&quot;, 
##     data = list(list(3.215, 21.4), list(3.44, 18.7), list(3.46, 
##         18.1), list(3.57, 14.3), list(3.19, 24.4), list(3.15, 
##         22.8), list(3.44, 19.2), list(3.44, 17.8), list(4.07, 
##         16.4), list(3.73, 17.3), list(3.78, 15.2), list(5.25, 
##         10.4), list(5.424, 10.4), list(5.345, 14.7), list(2.465, 
##         21.5), list(3.52, 15.5), list(3.435, 15.2), list(3.84, 
##         13.3), list(3.845, 19.2))), list(name = &quot;Manual&quot;, type = &quot;scatter&quot;, 
##     data = list(list(2.62, 21), list(2.875, 21), list(2.32, 22.8), 
##         list(2.2, 32.4), list(1.615, 30.4), list(1.835, 33.9), 
##         list(1.935, 27.3), list(2.14, 26), list(1.513, 30.4), 
##         list(3.17, 15.8), list(2.77, 19.7), list(3.57, 15), list(
##             2.78, 21.4)))), legend = list(show = TRUE, data = list(
##     &quot;Automatic&quot;, &quot;Manual&quot;), x = &quot;left&quot;, y = &quot;top&quot;, orient = &quot;horizontal&quot;), 
##     yAxis = list(list(type = &quot;value&quot;, show = TRUE, position = &quot;left&quot;, 
##         name = &quot;mpg&quot;, nameLocation = &quot;end&quot;, boundaryGap = c(0, 
##         0), scale = TRUE, axisLine = list(show = TRUE, onZero = FALSE), 
##         axisTick = list(show = FALSE), axisLabel = list(show = TRUE), 
##         splitLine = list(show = TRUE), splitArea = list(show = FALSE))), 
##     xAxis = list(list(type = &quot;value&quot;, show = TRUE, position = &quot;bottom&quot;, 
##         name = &quot;wt&quot;, nameLocation = &quot;end&quot;, boundaryGap = c(0, 
##         0), scale = TRUE, axisLine = list(show = TRUE, onZero = FALSE), 
##         axisTick = list(show = FALSE), axisLabel = list(show = TRUE), 
##         splitLine = list(show = TRUE), splitArea = list(show = FALSE))), 
##     tooltip = list(show = TRUE, trigger = &quot;axis&quot;, axisPointer = list(
##         type = &quot;cross&quot;, crossStyle = list(type = &quot;dashed&quot;), lineStyle = list(
##             type = &quot;solid&quot;, width = 1), shadowStyle = list(color = &quot;rgba(150,150,150,0.3)&quot;, 
##             width = &quot;auto&quot;, type = &quot;default&quot;)), textStyle = list(
##         color = &quot;#fff&quot;), formatter = &quot;function (params) {\n    var i;\n    var text = params.value[0];\n    if (params.seriesName === null || params.seriesName === \&quot;\&quot;){\n        if (params.value.length &gt; 1) {\n            for (i = 1; i &lt; params.value.length; i++){\n                text += \&quot; ,    \&quot; + params.value[i];\n            }\n            return text;\n        } else {\n            return params.name + \&quot; : \&quot; + text;\n        }\n    } else {\n        if (params.value.length &gt; 1) {\n            text = params.seriesName + \&quot; :&lt;br/&gt;\&quot; + text;\n            for (i = 1; i &lt; params.value.length; i++) {\n                text += \&quot; ,    \&quot; + params.value[i];\n            }\n            return text;\n        } else {\n            return params.seriesName + \&quot; :&lt;br/&gt;\&quot;\n            + params.name + \&quot; : \&quot; + text;\n        }\n    }\n    }&quot;, 
##         islandFormatter = &quot;{a} &lt; br/&gt;{b} : {c}&quot;, enterable = FALSE, 
##         showDelay = 20, hideDelay = 100, transitionDuration = 0.4, 
##         backgroundColor = &quot;rgba(0,0,0,0.7)&quot;, borderColor = &quot;#333&quot;, 
##         borderWidth = 0, borderRadius = 4), toolbox = list(show = TRUE, 
##         feature = list(mark = list(show = TRUE), dataZoom = list(
##             show = TRUE), dataView = list(show = TRUE, readOnly = FALSE), 
##             magicType = list(show = FALSE), restore = list(show = TRUE), 
##             saveAsImage = list(show = TRUE)), x = &quot;right&quot;, y = &quot;top&quot;, 
##         orient = &quot;horizontal&quot;)), width = NULL, height = NULL, 
##     sizingPolicy = list(defaultWidth = NULL, defaultHeight = NULL, 
##         padding = NULL, viewer = list(defaultWidth = NULL, defaultHeight = NULL, 
##             padding = NULL, fill = TRUE, suppress = FALSE, paneHeight = NULL), 
##         browser = list(defaultWidth = NULL, defaultHeight = NULL, 
##             padding = NULL, fill = FALSE), knitr = list(defaultWidth = NULL, 
##             defaultHeight = NULL, figure = TRUE)), dependencies = NULL, 
##     elementId = NULL, preRenderHook = NULL, jsHooks = list()))</code></pre>
</div>
</div>
<div id="finale" class="section level1">
<h1><span class="header-section-number">5</span> Finale</h1>
<p>Normally we do not want R users to specify a long list of options like that. As R users, you are more familiar with (and often work with) data structures like data frames, matrices, tables, and so on. Ideally we hope you can just pass a familiar data object, and we configure ECharts automatically for you whenever possible. We will be happy to know your feedback, and you are welcome to contribute code through <a href="https://github.com/madlogos/recharts">Github pull requests</a>.</p>
</div>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
    // active menu
    var href = window.location.pathname;
    href = href.substr(href.lastIndexOf('/') + 1);
    if (href === '') href = './';
    $('a[href="' + href + '"]').parent().addClass('active');
});
</script>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>


</body>
</html>
