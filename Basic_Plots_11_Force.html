<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Basic Plots 14 - Force Chart</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/htmlwidgets-0.7/htmlwidgets.js"></script>
<script src="libs/echarts-2.2.7/echarts-all.js"></script>
<script src="libs/echarts-2.2.7/ext/params.js"></script>
<script src="libs/echarts-2.2.7/ext/loadGeoJSON.js"></script>
<script src="libs/echarts-binding-0.0.5/echarts.js"></script>
<script src="libs/echarts-module-2.2.7/base.js"></script>
<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 70px;
}
p code {
  white-space: inherit;
}
.html-widget-static-bound {
  margin: auto;
}
.alert>p {
  margin-bottom: 10.5px;
}
</style>
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="libs/highlight/default.css"
      type="text/css" />
<script src="libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<div class="container-fluid main-container">

<!-- tabsets -->
<script src="libs/navigation-1.1/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="./">recharts</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="./">Home</a></li>
        <li><a href="index_cn.html">首页</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://github.com/madlogos/recharts" title="View Source on Github"><i class="fa fa-github fa-lg"></i></a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</nav><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Basic Plots 14 - Force Chart</h1>

</div>

<div id="TOC">
<ul>
<li><a href="#introduction"><span class="toc-section-number">1</span> Introduction</a></li>
<li><a href="#function-call"><span class="toc-section-number">2</span> Function Call</a></li>
<li><a href="#showcase"><span class="toc-section-number">3</span> Showcase</a><ul>
<li><a href="#data-preparation"><span class="toc-section-number">3.1</span> Data Preparation</a><ul>
<li><a href="#matrix-mode"><span class="toc-section-number">3.1.1</span> Matrix Mode</a></li>
<li><a href="#nodelink-mode"><span class="toc-section-number">3.1.2</span> Node/link Mode</a></li>
</ul></li>
<li><a href="#force-chart"><span class="toc-section-number">3.2</span> Force Chart</a><ul>
<li><a href="#force-with-curve"><span class="toc-section-number">3.2.1</span> Force with Curve</a></li>
<li><a href="#force-with-line"><span class="toc-section-number">3.2.2</span> Force with Line</a><ul>
<li><a href="#matrix-mode-1"><span class="toc-section-number">3.2.2.1</span> Matrix Mode</a></li>
<li><a href="#nodelink-mode-1"><span class="toc-section-number">3.2.2.2</span> Node/link Mode</a></li>
</ul></li>
<li><a href="#force-with-timeline"><span class="toc-section-number">3.2.3</span> Force with Timeline</a></li>
</ul></li>
</ul></li>
<li><a href="#futher-setup"><span class="toc-section-number">4</span> Futher Setup</a></li>
</ul>
</div>

<p>First, you should load <code>recharts</code>:</p>
<pre class="r"><code>library(recharts)</code></pre>
<div id="introduction" class="section level1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<p>Force plot includes 2 basic types:</p>
<ul>
<li>Force chart with curve</li>
<li>Force chart with line</li>
</ul>
<table id="intro">
<tr>
<td>
<div id="echarts-9b06a1c935a2dc2a1b569d9316d3136d0c999af0" style="width:400px;height:300px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-9b06a1c935a2dc2a1b569d9316d3136d0c999af0">{"x":{"series":[{"type":"force","name":"Connection","roam":"move","itemStyle":{"normal":{"label":{"show":true,"textStyle":{"color":"#333"}},"nodeStyle":{"brushType":"both","strokeColor":"rgba(255,215,0,0.4)"},"linkStyle":{"type":"curve"}},"emphasis":{"label":{"show":false},"nodeStyle":[],"lineStyle":[]}},"minRadius":8,"maxRadius":20,"nodes":[{"category":0,"name":"曾麟书","value":3},{"category":1,"name":"曾国藩","value":9},{"category":2,"name":"曾纪泽","value":3},{"category":2,"name":"曾纪鸿","value":3},{"category":3,"name":"曾广珊","value":3},{"category":0,"name":"俞文葆","value":3},{"category":1,"name":"俞明震","value":6},{"category":1,"name":"俞明颐","value":3},{"category":1,"name":"俞明诗","value":3},{"category":0,"name":"陈宝箴","value":6},{"category":1,"name":"陈三立","value":3},{"category":2,"name":"陈寅恪","value":9},{"category":2,"name":"陈衡恪","value":3},{"category":2,"name":"俞大维","value":3},{"category":2,"name":"俞大拔","value":3},{"category":2,"name":"俞大纲","value":3},{"category":2,"name":"俞大缜","value":3},{"category":1,"name":"曾国潢","value":3},{"category":2,"name":"曾纪梁","value":3},{"category":3,"name":"曾广祚","value":3},{"category":4,"name":"曾昭抡","value":6},{"category":2,"name":"俞大絪","value":3},{"category":2,"name":"傅斯年","value":6},{"category":2,"name":"俞大彩","value":3},{"category":0,"name":"蒋介石","value":9},{"category":1,"name":"蒋经国","value":9},{"category":3,"name":"俞扬和","value":3},{"category":2,"name":"蒋孝章","value":3},{"category":4,"name":"俞祖声","value":3},{"category":2,"name":"俞大纯","value":3},{"category":1,"name":"曾国荃","value":6},{"category":2,"name":"曾广江","value":3},{"category":3,"name":"曾昭和","value":3},{"category":4,"name":"曾宪植","value":6},{"category":4,"name":"叶剑英","value":6},{"category":3,"name":"赵太侔","value":6},{"category":3,"name":"俞珊","value":3},{"category":3,"name":"俞瑾","value":3},{"category":3,"name":"俞启考","value":3},{"category":3,"name":"俞启信","value":3},{"category":3,"name":"俞启威","value":3},{"category":3,"name":"俞启忠","value":3},{"category":4,"name":"俞强声","value":3},{"category":4,"name":"俞正声","value":6},{"category":3,"name":"毛泽东","value":9},{"category":3,"name":"江青","value":6},{"category":0,"name":"范寿钟","value":3},{"category":1,"name":"范文澜","value":6},{"category":1,"name":"范瑾","value":3}],"categories":[{"name":"Root"},{"name":"Node 1"},{"name":"Node 2"},{"name":"Node 3"},{"name":"Leaf"}],"links":[{"source":"曾麟书","target":"曾国藩","name":"父子","weight":1},{"source":"曾麟书","target":"曾国荃","name":"父子","weight":1},{"source":"曾麟书","target":"曾国潢","name":"父子","weight":1},{"source":"曾国藩","target":"曾纪泽","name":"父子","weight":1},{"source":"曾国藩","target":"曾纪鸿","name":"父子","weight":1},{"source":"曾国潢","target":"曾纪梁","name":"父子","weight":1},{"source":"曾纪梁","target":"曾广祚","name":"父子","weight":1},{"source":"曾广祚","target":"曾昭抡","name":"父子","weight":1},{"source":"曾国荃","target":"曾广江","name":"父子","weight":1},{"source":"曾广江","target":"曾昭和","name":"父子","weight":1},{"source":"曾昭和","target":"曾宪植","name":"父女","weight":1},{"source":"叶剑英","target":"曾宪植","name":"夫妻","weight":1},{"source":"曾纪鸿","target":"曾广珊","name":"父女","weight":1},{"source":"俞文葆","target":"俞明震","name":"父子","weight":1},{"source":"俞文葆","target":"俞明颐","name":"父子","weight":1},{"source":"俞文葆","target":"俞明诗","name":"父女","weight":1},{"source":"陈宝箴","target":"陈三立","name":"父子","weight":1},{"source":"陈三立","target":"俞明诗","name":"夫妻","weight":1},{"source":"陈三立","target":"陈寅恪","name":"父子","weight":1},{"source":"陈三立","target":"陈衡恪","name":"父子","weight":1},{"source":"俞明颐","target":"曾广珊","name":"夫妻","weight":1},{"source":"俞明颐","target":"俞大维","name":"父子","weight":1},{"source":"俞大维","target":"俞扬和","name":"父子","weight":1},{"source":"俞明颐","target":"俞大拔","name":"父子","weight":1},{"source":"俞明颐","target":"俞大纲","name":"父子","weight":1},{"source":"俞明颐","target":"俞大缜","name":"父子","weight":1},{"source":"俞明颐","target":"俞大絪","name":"父女","weight":1},{"source":"俞明颐","target":"俞大彩","name":"父女","weight":1},{"source":"俞明震","target":"俞大纯","name":"父子","weight":1},{"source":"赵太侔","target":"俞珊","name":"夫妻","weight":1},{"source":"俞大纯","target":"俞珊","name":"父女","weight":1},{"source":"俞大纯","target":"俞瑾","name":"父女","weight":1},{"source":"俞大纯","target":"俞启考","name":"父子","weight":1},{"source":"俞大纯","target":"俞启信","name":"父子","weight":1},{"source":"俞大纯","target":"俞启威","name":"父子","weight":1},{"source":"俞启威","target":"江青","name":"夫妻","weight":1},{"source":"毛泽东","target":"江青","name":"夫妻","weight":1},{"source":"俞大纯","target":"俞启忠","name":"父子","weight":1},{"source":"俞启威","target":"俞强声","name":"父子","weight":1},{"source":"俞启威","target":"俞正声","name":"父子","weight":1},{"source":"曾昭抡","target":"俞大絪","name":"夫妻","weight":1},{"source":"傅斯年","target":"俞大彩","name":"夫妻","weight":1},{"source":"蒋介石","target":"蒋经国","name":"父子","weight":1},{"source":"蒋经国","target":"蒋孝章","name":"父女","weight":1},{"source":"俞扬和","target":"蒋孝章","name":"夫妻","weight":1},{"source":"俞扬和","target":"俞祖声","name":"父子","weight":1},{"source":"范寿钟","target":"范文澜","name":"父子","weight":1},{"source":"范寿钟","target":"范瑾","name":"父女","weight":1},{"source":"俞启威","target":"范瑾","name":"夫妻","weight":1}],"ribbonType":false,"showScale":false,"showScaleText":false}],"legend":{"show":true,"data":["Root","Node 1","Node 2","Node 3","Leaf"],"x":"left","y":"top","orient":"horizontal"},"xAxis":[{"type":"category","show":false,"position":"bottom","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false},"data":["曾麟书","曾国藩","曾国潢","曾纪梁","曾广祚","曾国荃","曾广江","曾昭和","叶剑英","曾纪鸿","俞文葆","陈宝箴","陈三立","俞明颐","俞大维","俞明震","赵太侔","俞大纯","俞启威","毛泽东","曾昭抡","傅斯年","蒋介石","蒋经国","俞扬和","范寿钟","曾纪泽","曾广珊","俞明诗","陈寅恪","陈衡恪","俞大拔","俞大纲","俞大缜","俞大絪","俞大彩","蒋孝章","俞祖声","曾宪植","俞珊","俞瑾","俞启考","俞启信","俞启忠","俞强声","俞正声","江青","范文澜","范瑾"]}],"yAxis":[{"type":"value","show":false,"position":"left","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"grid":{"borderWidth":0},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    if (params.indicator2) {    // is edge\n        if (isNaN(params.value.weight)){\n            return params.indicator + \" -> \"\n            + params.indicator2 + \" (\" + params.name + \")\";\n        } else {\n            return params.indicator + \" -> \"\n            + params.indicator2 + \" (\" + params.name + \") : \"\n            + params.value.weight;\n        }\n\n    } else {    // is node\n        return params.name;\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":false},"dataView":{"show":false},"magicType":{"show":true,"type":["force","chord"]},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"title":{"text":"Yu Family of Shaoxing","x":"center","y":"bottom","orient":"horizontal"},"color":["#CD853F","#00CD00","#00EE00","#7CFC00","#C0FF3E"]},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
</td>
<td>
<div id="echarts-fbab0ba21d571448511cc74174182b569961da10" style="width:400px;height:300px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-fbab0ba21d571448511cc74174182b569961da10">{"x":{"series":[{"type":"force","name":"Connection","roam":"move","itemStyle":{"normal":{"label":{"show":true,"textStyle":{"color":"#333"}},"nodeStyle":{"brushType":"both","strokeColor":"rgba(255,215,0,0.4)"},"linkStyle":{"type":"line"}},"emphasis":{"label":{"show":false},"nodeStyle":[],"lineStyle":[]}},"minRadius":8,"maxRadius":20,"nodes":[{"category":0,"name":"曾麟书","value":3},{"category":1,"name":"曾国藩","value":9},{"category":2,"name":"曾纪泽","value":3},{"category":2,"name":"曾纪鸿","value":3},{"category":3,"name":"曾广珊","value":3},{"category":0,"name":"俞文葆","value":3},{"category":1,"name":"俞明震","value":6},{"category":1,"name":"俞明颐","value":3},{"category":1,"name":"俞明诗","value":3},{"category":0,"name":"陈宝箴","value":6},{"category":1,"name":"陈三立","value":3},{"category":2,"name":"陈寅恪","value":9},{"category":2,"name":"陈衡恪","value":3},{"category":2,"name":"俞大维","value":3},{"category":2,"name":"俞大拔","value":3},{"category":2,"name":"俞大纲","value":3},{"category":2,"name":"俞大缜","value":3},{"category":1,"name":"曾国潢","value":3},{"category":2,"name":"曾纪梁","value":3},{"category":3,"name":"曾广祚","value":3},{"category":4,"name":"曾昭抡","value":6},{"category":2,"name":"俞大絪","value":3},{"category":2,"name":"傅斯年","value":6},{"category":2,"name":"俞大彩","value":3},{"category":0,"name":"蒋介石","value":9},{"category":1,"name":"蒋经国","value":9},{"category":3,"name":"俞扬和","value":3},{"category":2,"name":"蒋孝章","value":3},{"category":4,"name":"俞祖声","value":3},{"category":2,"name":"俞大纯","value":3},{"category":1,"name":"曾国荃","value":6},{"category":2,"name":"曾广江","value":3},{"category":3,"name":"曾昭和","value":3},{"category":4,"name":"曾宪植","value":6},{"category":4,"name":"叶剑英","value":6},{"category":3,"name":"赵太侔","value":6},{"category":3,"name":"俞珊","value":3},{"category":3,"name":"俞瑾","value":3},{"category":3,"name":"俞启考","value":3},{"category":3,"name":"俞启信","value":3},{"category":3,"name":"俞启威","value":3},{"category":3,"name":"俞启忠","value":3},{"category":4,"name":"俞强声","value":3},{"category":4,"name":"俞正声","value":6},{"category":3,"name":"毛泽东","value":9},{"category":3,"name":"江青","value":6},{"category":0,"name":"范寿钟","value":3},{"category":1,"name":"范文澜","value":6},{"category":1,"name":"范瑾","value":3}],"categories":[{"name":"Root"},{"name":"Node 1"},{"name":"Node 2"},{"name":"Node 3"},{"name":"Leaf"}],"links":[{"source":"曾麟书","target":"曾国藩","name":"父子","weight":1},{"source":"曾麟书","target":"曾国荃","name":"父子","weight":1},{"source":"曾麟书","target":"曾国潢","name":"父子","weight":1},{"source":"曾国藩","target":"曾纪泽","name":"父子","weight":1},{"source":"曾国藩","target":"曾纪鸿","name":"父子","weight":1},{"source":"曾国潢","target":"曾纪梁","name":"父子","weight":1},{"source":"曾纪梁","target":"曾广祚","name":"父子","weight":1},{"source":"曾广祚","target":"曾昭抡","name":"父子","weight":1},{"source":"曾国荃","target":"曾广江","name":"父子","weight":1},{"source":"曾广江","target":"曾昭和","name":"父子","weight":1},{"source":"曾昭和","target":"曾宪植","name":"父女","weight":1},{"source":"叶剑英","target":"曾宪植","name":"夫妻","weight":1},{"source":"曾纪鸿","target":"曾广珊","name":"父女","weight":1},{"source":"俞文葆","target":"俞明震","name":"父子","weight":1},{"source":"俞文葆","target":"俞明颐","name":"父子","weight":1},{"source":"俞文葆","target":"俞明诗","name":"父女","weight":1},{"source":"陈宝箴","target":"陈三立","name":"父子","weight":1},{"source":"陈三立","target":"俞明诗","name":"夫妻","weight":1},{"source":"陈三立","target":"陈寅恪","name":"父子","weight":1},{"source":"陈三立","target":"陈衡恪","name":"父子","weight":1},{"source":"俞明颐","target":"曾广珊","name":"夫妻","weight":1},{"source":"俞明颐","target":"俞大维","name":"父子","weight":1},{"source":"俞大维","target":"俞扬和","name":"父子","weight":1},{"source":"俞明颐","target":"俞大拔","name":"父子","weight":1},{"source":"俞明颐","target":"俞大纲","name":"父子","weight":1},{"source":"俞明颐","target":"俞大缜","name":"父子","weight":1},{"source":"俞明颐","target":"俞大絪","name":"父女","weight":1},{"source":"俞明颐","target":"俞大彩","name":"父女","weight":1},{"source":"俞明震","target":"俞大纯","name":"父子","weight":1},{"source":"赵太侔","target":"俞珊","name":"夫妻","weight":1},{"source":"俞大纯","target":"俞珊","name":"父女","weight":1},{"source":"俞大纯","target":"俞瑾","name":"父女","weight":1},{"source":"俞大纯","target":"俞启考","name":"父子","weight":1},{"source":"俞大纯","target":"俞启信","name":"父子","weight":1},{"source":"俞大纯","target":"俞启威","name":"父子","weight":1},{"source":"俞启威","target":"江青","name":"夫妻","weight":1},{"source":"毛泽东","target":"江青","name":"夫妻","weight":1},{"source":"俞大纯","target":"俞启忠","name":"父子","weight":1},{"source":"俞启威","target":"俞强声","name":"父子","weight":1},{"source":"俞启威","target":"俞正声","name":"父子","weight":1},{"source":"曾昭抡","target":"俞大絪","name":"夫妻","weight":1},{"source":"傅斯年","target":"俞大彩","name":"夫妻","weight":1},{"source":"蒋介石","target":"蒋经国","name":"父子","weight":1},{"source":"蒋经国","target":"蒋孝章","name":"父女","weight":1},{"source":"俞扬和","target":"蒋孝章","name":"夫妻","weight":1},{"source":"俞扬和","target":"俞祖声","name":"父子","weight":1},{"source":"范寿钟","target":"范文澜","name":"父子","weight":1},{"source":"范寿钟","target":"范瑾","name":"父女","weight":1},{"source":"俞启威","target":"范瑾","name":"夫妻","weight":1}],"ribbonType":false,"showScale":false,"showScaleText":false}],"legend":{"show":true,"data":["Root","Node 1","Node 2","Node 3","Leaf"],"x":"left","y":"top","orient":"horizontal"},"xAxis":[{"type":"category","show":false,"position":"bottom","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false},"data":["曾麟书","曾国藩","曾国潢","曾纪梁","曾广祚","曾国荃","曾广江","曾昭和","叶剑英","曾纪鸿","俞文葆","陈宝箴","陈三立","俞明颐","俞大维","俞明震","赵太侔","俞大纯","俞启威","毛泽东","曾昭抡","傅斯年","蒋介石","蒋经国","俞扬和","范寿钟","曾纪泽","曾广珊","俞明诗","陈寅恪","陈衡恪","俞大拔","俞大纲","俞大缜","俞大絪","俞大彩","蒋孝章","俞祖声","曾宪植","俞珊","俞瑾","俞启考","俞启信","俞启忠","俞强声","俞正声","江青","范文澜","范瑾"]}],"yAxis":[{"type":"value","show":false,"position":"left","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"grid":{"borderWidth":0},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    if (params.indicator2) {    // is edge\n        if (isNaN(params.value.weight)){\n            return params.indicator + \" -> \"\n            + params.indicator2 + \" (\" + params.name + \")\";\n        } else {\n            return params.indicator + \" -> \"\n            + params.indicator2 + \" (\" + params.name + \") : \"\n            + params.value.weight;\n        }\n\n    } else {    // is node\n        return params.name;\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":false},"dataView":{"show":false},"magicType":{"show":true,"type":["force","chord"]},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"title":{"text":"Yu Family of Shaoxing","x":"center","y":"bottom","orient":"horizontal"},"color":["#CD853F","#00CD00","#00EE00","#7CFC00","#C0FF3E"]},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
</td>
</tr>
</table>
<p>The keys are:</p>
<ul>
<li>data structure:</li>
<li>matrix mode: A data.frame comprising of a column of name, and a numeric matrix. Assign the name column to x, the matrix to y.</li>
<li>node/link mode: node data.frame [x, NA, series, weight]; link data.frame [x, x1, relation, value]. Combine them using <code>rbind</code>. If you don’t provide node data.frame, recharts will build it automatically. Assign the param list [x, x1, series/relation, weight/value] accordingly.</li>
<li>force chart and chord chart are exchangeble by the toolbox buttons.</li>
</ul>
</div>
<div id="function-call" class="section level1">
<h1><span class="header-section-number">2</span> Function Call</h1>
<pre class="r"><code>echartr(data, x, &lt;y&gt;, &lt;series&gt;, &lt;z&gt;, &lt;type&gt;, &lt;subtype&gt;)</code></pre>
<table>
<colgroup>
<col width="11%" />
<col width="88%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Arg</th>
<th align="left">Requirement</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p><strong>data</strong></p></td>
<td align="left"><p>source data in the form of data.frame</p></td>
</tr>
<tr class="even">
<td align="left"><p><strong>x</strong></p></td>
<td align="left"><p>character independent variable. Other type will be coerced to factors. For node/link mode, you must provide two columns of <code>x</code>. For matrix mode, only the first column of <code>x</code> is accepted.</p></td>
</tr>
<tr class="odd">
<td align="left"><p><strong>y</strong></p></td>
<td align="left"><p>numeric dependent variable. For node/link mode, only the first column of <code>y</code> is accepted. For matrix mode, all the columns of <code>y</code> are accepted.</p></td>
</tr>
<tr class="even">
<td align="left"><p>series</p></td>
<td align="left"><p>series variable which will be coerced to factors. Only the first one is accepted if multiple variables are provided.</p></td>
</tr>
<tr class="odd">
<td align="left"><p>z</p></td>
<td align="left"><p>timeline variable which will be coerced to factors. Only the first one is accepted if multiple variables are provided.</p></td>
</tr>
<tr class="even">
<td align="left"><p>type</p></td>
<td align="left"><p>‘force’/‘force_curve’, ‘force_line’.</p></td>
</tr>
<tr class="odd">
<td align="left"><p>subtype</p></td>
<td align="left"><ul>
<li>force: c(“arrow”, “triangle”)
<ul>
<li>arrow: The end symbol of the connection lines is arrow.</li>
<li>triangle: The end symbol of the connection lines is triangle</li>
</ul></li>
<li>force_line: c(“arrow”, “triangle”)</li>
</ul></td>
</tr>
</tbody>
</table>
</div>
<div id="showcase" class="section level1">
<h1><span class="header-section-number">3</span> Showcase</h1>
<div id="data-preparation" class="section level2">
<h2><span class="header-section-number">3.1</span> Data Preparation</h2>
<div id="matrix-mode" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Matrix Mode</h3>
<pre class="r"><code>grpmtx &lt;- matrix(c(11975, 5871, 8916, 2868, 1951, 10048, 2060, 6171, 8010, 16145,
                   8090, 8045, 1013, 990, 940, 6907), byrow=TRUE, nrow=4)
grpmtx &lt;- as.data.frame(grpmtx)
names(grpmtx) &lt;- paste0(&#39;Group&#39;, 1:4)
grpmtx$Name &lt;- paste0(&#39;Group&#39;, 1:4)
knitr::kable(grpmtx, align=c(&#39;lllll&#39;))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">Group1</th>
<th align="left">Group2</th>
<th align="left">Group3</th>
<th align="left">Group4</th>
<th align="left">Name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">11975</td>
<td align="left">5871</td>
<td align="left">8916</td>
<td align="left">2868</td>
<td align="left">Group1</td>
</tr>
<tr class="even">
<td align="left">1951</td>
<td align="left">10048</td>
<td align="left">2060</td>
<td align="left">6171</td>
<td align="left">Group2</td>
</tr>
<tr class="odd">
<td align="left">8010</td>
<td align="left">16145</td>
<td align="left">8090</td>
<td align="left">8045</td>
<td align="left">Group3</td>
</tr>
<tr class="even">
<td align="left">1013</td>
<td align="left">990</td>
<td align="left">940</td>
<td align="left">6907</td>
<td align="left">Group4</td>
</tr>
</tbody>
</table>
<p>The first 4 columns are exactly a matrix structure and the last column is a name vector. So this meets data structure requirements for matrix mode.</p>
<p>Matrix mode can be transformed to node/link mode as well. Matrix[i, j] represents 2 nodes (i &amp; j) and 1 link (i -&gt; j).</p>
</div>
<div id="nodelink-mode" class="section level3">
<h3><span class="header-section-number">3.1.2</span> Node/link Mode</h3>
<pre class="r"><code>str(yuNetwork)</code></pre>
<pre><code>## List of 2
##  $ nodes:&#39;data.frame&#39;:   49 obs. of  3 variables:
##   ..$ name  : chr [1:49] &quot;曾麟书&quot; &quot;曾国藩&quot; &quot;曾纪泽&quot; &quot;曾纪鸿&quot; ...
##   ..$ series: chr [1:49] &quot;Root&quot; &quot;Node 1&quot; &quot;Node 2&quot; &quot;Node 2&quot; ...
##   ..$ value : num [1:49] 3 9 3 3 3 3 6 3 3 6 ...
##  $ links:&#39;data.frame&#39;:   49 obs. of  4 variables:
##   ..$ source  : chr [1:49] &quot;曾麟书&quot; &quot;曾麟书&quot; &quot;曾麟书&quot; &quot;曾国藩&quot; ...
##   ..$ target  : chr [1:49] &quot;曾国藩&quot; &quot;曾国荃&quot; &quot;曾国潢&quot; &quot;曾纪泽&quot; ...
##   ..$ relation: chr [1:49] &quot;父子&quot; &quot;父子&quot; &quot;父子&quot; &quot;父子&quot; ...
##   ..$ weight  : num [1:49] 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<p>The yuNetwork dataset contains a nodes data.frame and a links data.frame. You can then combine them into one.</p>
<ul>
<li>nodes:
<ul>
<li><code>name</code>: the nodes name,</li>
<li><code>series</code>: the series that the nodes belongs to,</li>
<li><code>value</code>: the importance score of the nodes.</li>
</ul></li>
<li>links:
<ul>
<li><code>source</code> and <code>target</code>: defines the connections,</li>
<li><code>relation</code>: the name of the connections,</li>
<li><code>weight</code>: the importance sorce of the connections.</li>
</ul></li>
</ul>
<pre class="r"><code>nodes &lt;- cbind(yuNetwork$nodes[,1], NA, yuNetwork$nodes[,2:3],
               stringsAsFactors=FALSE)
names(nodes) &lt;- names(yuNetwork$links)
yu &lt;- rbind(yuNetwork$links, nodes, stringsAsFactors=FALSE)</code></pre>
</div>
</div>
<div id="force-chart" class="section level2">
<h2><span class="header-section-number">3.2</span> Force Chart</h2>
<div id="force-with-curve" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Force with Curve</h3>
<p>Set <code>type</code> ‘force’.</p>
<pre class="r"><code>echartr(yu, c(source, target), weight, relation, type=&#39;force&#39;) %&gt;% 
    setTitle(&quot;Yu Family of Shaoxing&quot;) %&gt;% setTheme(palette=c(
        &#39;tan3&#39;,&#39;green3&#39;,&#39;green2&#39;,&#39;lawngreen&#39;,&#39;olivedrab1&#39;))</code></pre>
<div id="echarts-51518c253c1e1539abaf7bfd2c3c8662759d654d" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-51518c253c1e1539abaf7bfd2c3c8662759d654d">{"x":{"series":[{"type":"force","name":"Connection","roam":"move","itemStyle":{"normal":{"label":{"show":true,"textStyle":{"color":"#333"}},"nodeStyle":{"brushType":"both","strokeColor":"rgba(255,215,0,0.4)"},"linkStyle":{"type":"curve"}},"emphasis":{"label":{"show":false},"nodeStyle":[],"lineStyle":[]}},"minRadius":8,"maxRadius":20,"nodes":[{"category":0,"name":"曾麟书","value":3},{"category":1,"name":"曾国藩","value":9},{"category":2,"name":"曾纪泽","value":3},{"category":2,"name":"曾纪鸿","value":3},{"category":3,"name":"曾广珊","value":3},{"category":0,"name":"俞文葆","value":3},{"category":1,"name":"俞明震","value":6},{"category":1,"name":"俞明颐","value":3},{"category":1,"name":"俞明诗","value":3},{"category":0,"name":"陈宝箴","value":6},{"category":1,"name":"陈三立","value":3},{"category":2,"name":"陈寅恪","value":9},{"category":2,"name":"陈衡恪","value":3},{"category":2,"name":"俞大维","value":3},{"category":2,"name":"俞大拔","value":3},{"category":2,"name":"俞大纲","value":3},{"category":2,"name":"俞大缜","value":3},{"category":1,"name":"曾国潢","value":3},{"category":2,"name":"曾纪梁","value":3},{"category":3,"name":"曾广祚","value":3},{"category":4,"name":"曾昭抡","value":6},{"category":2,"name":"俞大絪","value":3},{"category":2,"name":"傅斯年","value":6},{"category":2,"name":"俞大彩","value":3},{"category":0,"name":"蒋介石","value":9},{"category":1,"name":"蒋经国","value":9},{"category":3,"name":"俞扬和","value":3},{"category":2,"name":"蒋孝章","value":3},{"category":4,"name":"俞祖声","value":3},{"category":2,"name":"俞大纯","value":3},{"category":1,"name":"曾国荃","value":6},{"category":2,"name":"曾广江","value":3},{"category":3,"name":"曾昭和","value":3},{"category":4,"name":"曾宪植","value":6},{"category":4,"name":"叶剑英","value":6},{"category":3,"name":"赵太侔","value":6},{"category":3,"name":"俞珊","value":3},{"category":3,"name":"俞瑾","value":3},{"category":3,"name":"俞启考","value":3},{"category":3,"name":"俞启信","value":3},{"category":3,"name":"俞启威","value":3},{"category":3,"name":"俞启忠","value":3},{"category":4,"name":"俞强声","value":3},{"category":4,"name":"俞正声","value":6},{"category":3,"name":"毛泽东","value":9},{"category":3,"name":"江青","value":6},{"category":0,"name":"范寿钟","value":3},{"category":1,"name":"范文澜","value":6},{"category":1,"name":"范瑾","value":3}],"categories":[{"name":"Root"},{"name":"Node 1"},{"name":"Node 2"},{"name":"Node 3"},{"name":"Leaf"}],"links":[{"source":"曾麟书","target":"曾国藩","name":"父子","weight":1},{"source":"曾麟书","target":"曾国荃","name":"父子","weight":1},{"source":"曾麟书","target":"曾国潢","name":"父子","weight":1},{"source":"曾国藩","target":"曾纪泽","name":"父子","weight":1},{"source":"曾国藩","target":"曾纪鸿","name":"父子","weight":1},{"source":"曾国潢","target":"曾纪梁","name":"父子","weight":1},{"source":"曾纪梁","target":"曾广祚","name":"父子","weight":1},{"source":"曾广祚","target":"曾昭抡","name":"父子","weight":1},{"source":"曾国荃","target":"曾广江","name":"父子","weight":1},{"source":"曾广江","target":"曾昭和","name":"父子","weight":1},{"source":"曾昭和","target":"曾宪植","name":"父女","weight":1},{"source":"叶剑英","target":"曾宪植","name":"夫妻","weight":1},{"source":"曾纪鸿","target":"曾广珊","name":"父女","weight":1},{"source":"俞文葆","target":"俞明震","name":"父子","weight":1},{"source":"俞文葆","target":"俞明颐","name":"父子","weight":1},{"source":"俞文葆","target":"俞明诗","name":"父女","weight":1},{"source":"陈宝箴","target":"陈三立","name":"父子","weight":1},{"source":"陈三立","target":"俞明诗","name":"夫妻","weight":1},{"source":"陈三立","target":"陈寅恪","name":"父子","weight":1},{"source":"陈三立","target":"陈衡恪","name":"父子","weight":1},{"source":"俞明颐","target":"曾广珊","name":"夫妻","weight":1},{"source":"俞明颐","target":"俞大维","name":"父子","weight":1},{"source":"俞大维","target":"俞扬和","name":"父子","weight":1},{"source":"俞明颐","target":"俞大拔","name":"父子","weight":1},{"source":"俞明颐","target":"俞大纲","name":"父子","weight":1},{"source":"俞明颐","target":"俞大缜","name":"父子","weight":1},{"source":"俞明颐","target":"俞大絪","name":"父女","weight":1},{"source":"俞明颐","target":"俞大彩","name":"父女","weight":1},{"source":"俞明震","target":"俞大纯","name":"父子","weight":1},{"source":"赵太侔","target":"俞珊","name":"夫妻","weight":1},{"source":"俞大纯","target":"俞珊","name":"父女","weight":1},{"source":"俞大纯","target":"俞瑾","name":"父女","weight":1},{"source":"俞大纯","target":"俞启考","name":"父子","weight":1},{"source":"俞大纯","target":"俞启信","name":"父子","weight":1},{"source":"俞大纯","target":"俞启威","name":"父子","weight":1},{"source":"俞启威","target":"江青","name":"夫妻","weight":1},{"source":"毛泽东","target":"江青","name":"夫妻","weight":1},{"source":"俞大纯","target":"俞启忠","name":"父子","weight":1},{"source":"俞启威","target":"俞强声","name":"父子","weight":1},{"source":"俞启威","target":"俞正声","name":"父子","weight":1},{"source":"曾昭抡","target":"俞大絪","name":"夫妻","weight":1},{"source":"傅斯年","target":"俞大彩","name":"夫妻","weight":1},{"source":"蒋介石","target":"蒋经国","name":"父子","weight":1},{"source":"蒋经国","target":"蒋孝章","name":"父女","weight":1},{"source":"俞扬和","target":"蒋孝章","name":"夫妻","weight":1},{"source":"俞扬和","target":"俞祖声","name":"父子","weight":1},{"source":"范寿钟","target":"范文澜","name":"父子","weight":1},{"source":"范寿钟","target":"范瑾","name":"父女","weight":1},{"source":"俞启威","target":"范瑾","name":"夫妻","weight":1}],"ribbonType":false,"showScale":false,"showScaleText":false}],"legend":{"show":true,"data":["Root","Node 1","Node 2","Node 3","Leaf"],"x":"left","y":"top","orient":"horizontal"},"xAxis":[{"type":"category","show":false,"position":"bottom","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false},"data":["曾麟书","曾国藩","曾国潢","曾纪梁","曾广祚","曾国荃","曾广江","曾昭和","叶剑英","曾纪鸿","俞文葆","陈宝箴","陈三立","俞明颐","俞大维","俞明震","赵太侔","俞大纯","俞启威","毛泽东","曾昭抡","傅斯年","蒋介石","蒋经国","俞扬和","范寿钟","曾纪泽","曾广珊","俞明诗","陈寅恪","陈衡恪","俞大拔","俞大纲","俞大缜","俞大絪","俞大彩","蒋孝章","俞祖声","曾宪植","俞珊","俞瑾","俞启考","俞启信","俞启忠","俞强声","俞正声","江青","范文澜","范瑾"]}],"yAxis":[{"type":"value","show":false,"position":"left","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"grid":{"borderWidth":0},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    if (params.indicator2) {    // is edge\n        if (isNaN(params.value.weight)){\n            return params.indicator + \" -> \"\n            + params.indicator2 + \" (\" + params.name + \")\";\n        } else {\n            return params.indicator + \" -> \"\n            + params.indicator2 + \" (\" + params.name + \") : \"\n            + params.value.weight;\n        }\n\n    } else {    // is node\n        return params.name;\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":false},"dataView":{"show":false},"magicType":{"show":true,"type":["force","chord"]},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"title":{"text":"Yu Family of Shaoxing","x":"center","y":"bottom","orient":"horizontal"},"color":["#CD853F","#00CD00","#00EE00","#7CFC00","#C0FF3E"]},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
</div>
<div id="force-with-line" class="section level3">
<h3><span class="header-section-number">3.2.2</span> Force with Line</h3>
<div id="matrix-mode-1" class="section level4">
<h4><span class="header-section-number">3.2.2.1</span> Matrix Mode</h4>
<pre class="r"><code>echartr(grpmtx, Name, c(Group1, Group2, Group3, Group4), type=&#39;force_line&#39;) %&gt;% 
  setTitle(&#39;Test Data&#39;, &#39;Force with ribbon&#39;)</code></pre>
<div id="echarts-6d69e645ae6ca411b1a1914b37df9178e8b60ad5" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-6d69e645ae6ca411b1a1914b37df9178e8b60ad5">{"x":{"series":[{"type":"force","name":"Connection","roam":"move","itemStyle":{"normal":{"label":{"show":true,"textStyle":{"color":"#333"}},"nodeStyle":{"brushType":"both","strokeColor":"rgba(255,215,0,0.4)"},"linkStyle":{"type":"line"}},"emphasis":{"label":{"show":false},"nodeStyle":[],"lineStyle":[]}},"minRadius":8,"maxRadius":20,"matrix":[[11975,5871,8916,2868],[1951,10048,2060,6171],[8010,16145,8090,8045],[1013,990,940,6907]],"data":[{"name":"Group1"},{"name":"Group2"},{"name":"Group3"},{"name":"Group4"}],"ribbonType":true,"showScale":false,"showScaleText":false}],"xAxis":[{"type":"category","show":false,"position":"bottom","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false},"data":["Group1","Group2","Group3","Group4"]}],"yAxis":[{"type":"value","show":false,"position":"left","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"grid":{"borderWidth":0},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    if (params.indicator2) {    // is edge\n        if (isNaN(params.value.weight)){\n            return params.indicator + \" -> \"\n            + params.indicator2 + \" (\" + params.name + \")\";\n        } else {\n            return params.indicator + \" -> \"\n            + params.indicator2 + \" (\" + params.name + \") : \"\n            + params.value.weight;\n        }\n\n    } else {    // is node\n        return params.name;\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":false},"dataView":{"show":false},"magicType":{"show":true,"type":["force","chord"]},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"legend":{"show":true,"data":["Group1","Group2","Group3","Group4"],"x":"left","y":"top","orient":"horizontal"},"title":{"text":"Test Data","subtext":"Force with ribbon","x":"center","y":"bottom","orient":"horizontal"}},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
</div>
<div id="nodelink-mode-1" class="section level4">
<h4><span class="header-section-number">3.2.2.2</span> Node/link Mode</h4>
<p>Set <code>type</code> ‘force_line’.</p>
<pre class="r"><code>echartr(yu, c(source, target), weight, relation, type=&#39;force_line&#39;) %&gt;% 
    setTitle(&quot;Yu Family of Shaoxing&quot;) %&gt;% setTheme(palette=c(
        &#39;tan3&#39;,&#39;green3&#39;,&#39;green2&#39;,&#39;lawngreen&#39;,&#39;olivedrab1&#39;))</code></pre>
<div id="echarts-a8085248874230fa1d3ad9bb3aa773a8d86998e5" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-a8085248874230fa1d3ad9bb3aa773a8d86998e5">{"x":{"series":[{"type":"force","name":"Connection","roam":"move","itemStyle":{"normal":{"label":{"show":true,"textStyle":{"color":"#333"}},"nodeStyle":{"brushType":"both","strokeColor":"rgba(255,215,0,0.4)"},"linkStyle":{"type":"line"}},"emphasis":{"label":{"show":false},"nodeStyle":[],"lineStyle":[]}},"minRadius":8,"maxRadius":20,"nodes":[{"category":0,"name":"曾麟书","value":3},{"category":1,"name":"曾国藩","value":9},{"category":2,"name":"曾纪泽","value":3},{"category":2,"name":"曾纪鸿","value":3},{"category":3,"name":"曾广珊","value":3},{"category":0,"name":"俞文葆","value":3},{"category":1,"name":"俞明震","value":6},{"category":1,"name":"俞明颐","value":3},{"category":1,"name":"俞明诗","value":3},{"category":0,"name":"陈宝箴","value":6},{"category":1,"name":"陈三立","value":3},{"category":2,"name":"陈寅恪","value":9},{"category":2,"name":"陈衡恪","value":3},{"category":2,"name":"俞大维","value":3},{"category":2,"name":"俞大拔","value":3},{"category":2,"name":"俞大纲","value":3},{"category":2,"name":"俞大缜","value":3},{"category":1,"name":"曾国潢","value":3},{"category":2,"name":"曾纪梁","value":3},{"category":3,"name":"曾广祚","value":3},{"category":4,"name":"曾昭抡","value":6},{"category":2,"name":"俞大絪","value":3},{"category":2,"name":"傅斯年","value":6},{"category":2,"name":"俞大彩","value":3},{"category":0,"name":"蒋介石","value":9},{"category":1,"name":"蒋经国","value":9},{"category":3,"name":"俞扬和","value":3},{"category":2,"name":"蒋孝章","value":3},{"category":4,"name":"俞祖声","value":3},{"category":2,"name":"俞大纯","value":3},{"category":1,"name":"曾国荃","value":6},{"category":2,"name":"曾广江","value":3},{"category":3,"name":"曾昭和","value":3},{"category":4,"name":"曾宪植","value":6},{"category":4,"name":"叶剑英","value":6},{"category":3,"name":"赵太侔","value":6},{"category":3,"name":"俞珊","value":3},{"category":3,"name":"俞瑾","value":3},{"category":3,"name":"俞启考","value":3},{"category":3,"name":"俞启信","value":3},{"category":3,"name":"俞启威","value":3},{"category":3,"name":"俞启忠","value":3},{"category":4,"name":"俞强声","value":3},{"category":4,"name":"俞正声","value":6},{"category":3,"name":"毛泽东","value":9},{"category":3,"name":"江青","value":6},{"category":0,"name":"范寿钟","value":3},{"category":1,"name":"范文澜","value":6},{"category":1,"name":"范瑾","value":3}],"categories":[{"name":"Root"},{"name":"Node 1"},{"name":"Node 2"},{"name":"Node 3"},{"name":"Leaf"}],"links":[{"source":"曾麟书","target":"曾国藩","name":"父子","weight":1},{"source":"曾麟书","target":"曾国荃","name":"父子","weight":1},{"source":"曾麟书","target":"曾国潢","name":"父子","weight":1},{"source":"曾国藩","target":"曾纪泽","name":"父子","weight":1},{"source":"曾国藩","target":"曾纪鸿","name":"父子","weight":1},{"source":"曾国潢","target":"曾纪梁","name":"父子","weight":1},{"source":"曾纪梁","target":"曾广祚","name":"父子","weight":1},{"source":"曾广祚","target":"曾昭抡","name":"父子","weight":1},{"source":"曾国荃","target":"曾广江","name":"父子","weight":1},{"source":"曾广江","target":"曾昭和","name":"父子","weight":1},{"source":"曾昭和","target":"曾宪植","name":"父女","weight":1},{"source":"叶剑英","target":"曾宪植","name":"夫妻","weight":1},{"source":"曾纪鸿","target":"曾广珊","name":"父女","weight":1},{"source":"俞文葆","target":"俞明震","name":"父子","weight":1},{"source":"俞文葆","target":"俞明颐","name":"父子","weight":1},{"source":"俞文葆","target":"俞明诗","name":"父女","weight":1},{"source":"陈宝箴","target":"陈三立","name":"父子","weight":1},{"source":"陈三立","target":"俞明诗","name":"夫妻","weight":1},{"source":"陈三立","target":"陈寅恪","name":"父子","weight":1},{"source":"陈三立","target":"陈衡恪","name":"父子","weight":1},{"source":"俞明颐","target":"曾广珊","name":"夫妻","weight":1},{"source":"俞明颐","target":"俞大维","name":"父子","weight":1},{"source":"俞大维","target":"俞扬和","name":"父子","weight":1},{"source":"俞明颐","target":"俞大拔","name":"父子","weight":1},{"source":"俞明颐","target":"俞大纲","name":"父子","weight":1},{"source":"俞明颐","target":"俞大缜","name":"父子","weight":1},{"source":"俞明颐","target":"俞大絪","name":"父女","weight":1},{"source":"俞明颐","target":"俞大彩","name":"父女","weight":1},{"source":"俞明震","target":"俞大纯","name":"父子","weight":1},{"source":"赵太侔","target":"俞珊","name":"夫妻","weight":1},{"source":"俞大纯","target":"俞珊","name":"父女","weight":1},{"source":"俞大纯","target":"俞瑾","name":"父女","weight":1},{"source":"俞大纯","target":"俞启考","name":"父子","weight":1},{"source":"俞大纯","target":"俞启信","name":"父子","weight":1},{"source":"俞大纯","target":"俞启威","name":"父子","weight":1},{"source":"俞启威","target":"江青","name":"夫妻","weight":1},{"source":"毛泽东","target":"江青","name":"夫妻","weight":1},{"source":"俞大纯","target":"俞启忠","name":"父子","weight":1},{"source":"俞启威","target":"俞强声","name":"父子","weight":1},{"source":"俞启威","target":"俞正声","name":"父子","weight":1},{"source":"曾昭抡","target":"俞大絪","name":"夫妻","weight":1},{"source":"傅斯年","target":"俞大彩","name":"夫妻","weight":1},{"source":"蒋介石","target":"蒋经国","name":"父子","weight":1},{"source":"蒋经国","target":"蒋孝章","name":"父女","weight":1},{"source":"俞扬和","target":"蒋孝章","name":"夫妻","weight":1},{"source":"俞扬和","target":"俞祖声","name":"父子","weight":1},{"source":"范寿钟","target":"范文澜","name":"父子","weight":1},{"source":"范寿钟","target":"范瑾","name":"父女","weight":1},{"source":"俞启威","target":"范瑾","name":"夫妻","weight":1}],"ribbonType":false,"showScale":false,"showScaleText":false}],"legend":{"show":true,"data":["Root","Node 1","Node 2","Node 3","Leaf"],"x":"left","y":"top","orient":"horizontal"},"xAxis":[{"type":"category","show":false,"position":"bottom","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false},"data":["曾麟书","曾国藩","曾国潢","曾纪梁","曾广祚","曾国荃","曾广江","曾昭和","叶剑英","曾纪鸿","俞文葆","陈宝箴","陈三立","俞明颐","俞大维","俞明震","赵太侔","俞大纯","俞启威","毛泽东","曾昭抡","傅斯年","蒋介石","蒋经国","俞扬和","范寿钟","曾纪泽","曾广珊","俞明诗","陈寅恪","陈衡恪","俞大拔","俞大纲","俞大缜","俞大絪","俞大彩","蒋孝章","俞祖声","曾宪植","俞珊","俞瑾","俞启考","俞启信","俞启忠","俞强声","俞正声","江青","范文澜","范瑾"]}],"yAxis":[{"type":"value","show":false,"position":"left","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"grid":{"borderWidth":0},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    if (params.indicator2) {    // is edge\n        if (isNaN(params.value.weight)){\n            return params.indicator + \" -> \"\n            + params.indicator2 + \" (\" + params.name + \")\";\n        } else {\n            return params.indicator + \" -> \"\n            + params.indicator2 + \" (\" + params.name + \") : \"\n            + params.value.weight;\n        }\n\n    } else {    // is node\n        return params.name;\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":false},"dataView":{"show":false},"magicType":{"show":true,"type":["force","chord"]},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"title":{"text":"Yu Family of Shaoxing","x":"center","y":"bottom","orient":"horizontal"},"color":["#CD853F","#00CD00","#00EE00","#7CFC00","#C0FF3E"]},"evals":["tooltip.formatter"],"jsHooks":[]}</script>
</div>
</div>
<div id="force-with-timeline" class="section level3">
<h3><span class="header-section-number">3.2.3</span> Force with Timeline</h3>
<p>Let’s use <code>year</code> columns as timeline.</p>
<pre class="r"><code>echartr(deutsch, c(club, player), weight, role, z=year,
        type=&#39;force&#39;, sub=&#39;arrow&#39;) %&gt;% 
  setTitle(&#39;Club Orientation of Deutsch Soccer Team&#39;)</code></pre>
<div id="echarts-c308d60fe39c9d87157fe850b5a421e14273ce78" style="width:672px;height:480px;" class="echarts html-widget"></div>
<script type="application/json" data-for="echarts-c308d60fe39c9d87157fe850b5a421e14273ce78">{"x":{"timeline":{"type":"number","data":[2014,2016],"x":80,"x2":80,"y2":50},"options":[{"series":[{"type":"force","name":"Connection","roam":"move","itemStyle":{"normal":{"label":{"show":true,"textStyle":{"color":"#333"}},"nodeStyle":{"brushType":"both","strokeColor":"rgba(255,215,0,0.4)"},"linkStyle":{"type":"curve"}},"emphasis":{"label":{"show":false},"nodeStyle":[],"lineStyle":[]}},"minRadius":8,"maxRadius":20,"nodes":[{"name":"Monchengladbach"},{"name":"Bayern"},{"name":"Dortmund"},{"name":"Kruse"},{"name":"Kramer"},{"name":"Neuer"},{"name":"Boateng"},{"name":"Lahm"},{"name":"Kroos"},{"name":"Muller"},{"name":"Gotze"},{"name":"Badstuber"},{"name":"Hummels"},{"name":"Weidenfeller"},{"name":"Reus"},{"name":"Gundogan"}],"links":[{"source":"Monchengladbach","target":"Kruse","name":"Fw","weight":1},{"source":"Monchengladbach","target":"Kramer","name":"Mf","weight":1},{"source":"Bayern","target":"Neuer","name":"Gk","weight":1},{"source":"Bayern","target":"Boateng","name":"Df","weight":1},{"source":"Bayern","target":"Lahm","name":"Df","weight":1},{"source":"Bayern","target":"Kroos","name":"Mf","weight":1},{"source":"Bayern","target":"Muller","name":"Mf","weight":1},{"source":"Bayern","target":"Gotze","name":"Fw","weight":1},{"source":"Bayern","target":"Badstuber","name":"Df","weight":1},{"source":"Dortmund","target":"Hummels","name":"Df","weight":1},{"source":"Dortmund","target":"Weidenfeller","name":"Gk","weight":1},{"source":"Dortmund","target":"Reus","name":"Df","weight":1},{"source":"Dortmund","target":"Gundogan","name":"Md","weight":1}],"linkSymbol":"arrow","ribbonType":false,"showScale":false,"showScaleText":false}],"legend":{"show":true,"data":["Monchengladbach","Bayern","Dortmund","Leverkusen","Schalke","Arsenal","Madrid"],"x":"left","y":"top","orient":"horizontal"},"xAxis":[{"type":"category","show":false,"position":"bottom","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false},"data":["Monchengladbach","Bayern","Dortmund","Leverkusen","Schalke","Arsenal","Madrid"]}],"yAxis":[{"type":"value","show":false,"position":"left","name":"","nameLocation":"end","boundaryGap":[0,0],"scale":true,"axisLine":{"show":true,"onZero":false},"axisTick":{"show":false},"axisLabel":{"show":true},"splitLine":{"show":true},"splitArea":{"show":false}}],"grid":{"borderWidth":0},"tooltip":{"show":true,"trigger":"item","axisPointer":{"type":"none","crossStyle":{"type":"dashed"},"lineStyle":{"type":"solid","width":1},"shadowStyle":{"color":"rgba(150,150,150,0.3)","width":"auto","type":"default"}},"textStyle":{"color":"#fff"},"formatter":"function (params) {\n    if (params.indicator2) {    // is edge\n        if (isNaN(params.value.weight)){\n            return params.indicator + \" -> \"\n            + params.indicator2 + \" (\" + params.name + \")\";\n        } else {\n            return params.indicator + \" -> \"\n            + params.indicator2 + \" (\" + params.name + \") : \"\n            + params.value.weight;\n        }\n\n    } else {    // is node\n        return params.name;\n    }\n    }","islandFormatter":"{a} < br/>{b} : {c}","enterable":false,"showDelay":20,"hideDelay":100,"transitionDuration":0.4,"backgroundColor":"rgba(0,0,0,0.7)","borderColor":"#333","borderWidth":0,"borderRadius":4},"toolbox":{"show":true,"feature":{"mark":{"show":true},"dataZoom":{"show":false},"dataView":{"show":false},"magicType":{"show":true,"type":["force","chord"]},"restore":{"show":true},"saveAsImage":{"show":true}},"x":"right","y":"top","orient":"horizontal"},"title":{"text":"Club Orientation of Deutsch Soccer Team (year: 2014)","x":"center","y":"bottom","orient":"horizontal"}},{"series":[{"type":"force","name":"Connection","roam":"move","itemStyle":{"normal":{"label":{"show":true,"textStyle":{"color":"#333"}},"nodeStyle":{"brushType":"both","strokeColor":"rgba(255,215,0,0.4)"},"linkStyle":{"type":"curve"}},"emphasis":{"label":{"show":false},"nodeStyle":[],"lineStyle":[]}},"minRadius":8,"maxRadius":20,"nodes":[{"name":"Bayern"},{"name":"Leverkusen"},{"name":"Schalke"},{"name":"Arsenal"},{"name":"Madrid"},{"name":"Dortmund"},{"name":"Neuer"},{"name":"Leno"},{"name":"Hummels"},{"name":"Kimmich"},{"name":"Howedes"},{"name":"Mustafi"},{"name":"Ozil"},{"name":"Tah"},{"name":"Muller"},{"name":"Meyer"},{"name":"Kroos"},{"name":"Gotze"},{"name":"Volland"}],"links":[{"source":"Bayern","target":"Neuer","name":"Gk","weight":1},{"source":"Leverkusen","target":"Leno","name":"Gk","weight":1},{"source":"Bayern","target":"Hummels","name":"Df","weight":1},{"source":"Bayern","target":"Kimmich","name":"Df","weight":1},{"source":"Schalke","target":"Howedes","name":"Df","weight":1},{"source":"Arsenal","target":"Mustafi","name":"Df","weight":1},{"source":"Arsenal","target":"Ozil","name":"Mf","weight":1},{"source":"Leverkusen","target":"Tah","name":"Mf","weight":1},{"source":"Bayern","target":"Muller","name":"Mf","weight":1},{"source":"Schalke","target":"Meyer","name":"Mf","weight":1},{"source":"Madrid","target":"Kroos","name":"Mf","weight":1},{"source":"Dortmund","target":"Gotze","name":"Fw","weight":1},{"source":"Leverkusen","target":"Volland","name":"Fw","weight":1}],"linkSymbol":"arrow","ribbonType":false,"showScale":false,"showScaleText":false}],"title":{"text":"Club Orientation of Deutsch Soccer Team (year: 2016)","x":"center","y":"bottom","orient":"horizontal"}}]},"evals":["options.0.tooltip.formatter"],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="futher-setup" class="section level1">
<h1><span class="header-section-number">4</span> Futher Setup</h1>
<p>Then you can configure the widgets, add markLines and/or markPoints, fortify the chart.</p>
<p>You can refer to related functions to play around on your own.</p>
</div>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
    // active menu
    var href = window.location.pathname;
    href = href.substr(href.lastIndexOf('/') + 1);
    if (href === '') href = './';
    $('a[href="' + href + '"]').parent().addClass('active');
});
</script>



</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>


</body>
</html>
